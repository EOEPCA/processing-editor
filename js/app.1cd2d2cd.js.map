{"version":3,"file":"js/app.1cd2d2cd.js","mappings":"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","sources":["webpack://@openeo/web-editor/./src/utils.js","webpack://@openeo/web-editor/./src/formats/format.js","webpack://@openeo/web-editor/./src/components/Logo.vue","webpack://@openeo/web-editor/src/components/Logo.vue","webpack://@openeo/web-editor/./src/components/Logo.vue?c0bc","webpack://@openeo/web-editor/./src/components/Logo.vue?0cc9","webpack://@openeo/web-editor/./config.js","webpack://@openeo/web-editor/./src/formats/csv.js","webpack://@openeo/web-editor/./src/components/maps/projManager.js","webpack://@openeo/web-editor/./src/process.js","webpack://@openeo/web-editor/./src/components/EventBusMixin.js","webpack://@openeo/web-editor/./src/formats/json.js","webpack://@openeo/web-editor/./src/formats/geotiff.js","webpack://@openeo/web-editor/external var \"L\"","webpack://@openeo/web-editor/./src/registryExtension.js","webpack://@openeo/web-editor/./src/formats/browserImage.js","webpack://@openeo/web-editor/./src/formats/native.js","webpack://@openeo/web-editor/./src/formats/tsv.js","webpack://@openeo/web-editor/./src/formats/formatRegistry.js","webpack://@openeo/web-editor/./src/store/editor.js","webpack://@openeo/web-editor/./src/store/storeFactory.js","webpack://@openeo/web-editor/./src/store/files.js","webpack://@openeo/web-editor/./src/store/jobs.js","webpack://@openeo/web-editor/./src/store/services.js","webpack://@openeo/web-editor/./src/store/userProcesses.js","webpack://@openeo/web-editor/./src/store/index.js","webpack://@openeo/web-editor/./src/Page.vue","webpack://@openeo/web-editor/./src/components/ConnectForm.vue","webpack://@openeo/web-editor/./src/components/TermsOfServiceConsent.vue","webpack://@openeo/web-editor/src/components/TermsOfServiceConsent.vue","webpack://@openeo/web-editor/./src/components/TermsOfServiceConsent.vue?ce8c","webpack://@openeo/web-editor/./src/components/TermsOfServiceConsent.vue?4902","webpack://@openeo/web-editor/src/components/ConnectForm.vue","webpack://@openeo/web-editor/./src/components/ConnectForm.vue?e1e0","webpack://@openeo/web-editor/./src/components/ConnectForm.vue?757a","webpack://@openeo/web-editor/src/Page.vue","webpack://@openeo/web-editor/./src/Page.vue?99ee","webpack://@openeo/web-editor/./src/Page.vue?0126","webpack://@openeo/web-editor/./src/filters.js","webpack://@openeo/web-editor/./src/main.js","webpack://@openeo/web-editor/webpack/bootstrap","webpack://@openeo/web-editor/webpack/runtime/chunk loaded","webpack://@openeo/web-editor/webpack/runtime/compat get default export","webpack://@openeo/web-editor/webpack/runtime/create fake namespace object","webpack://@openeo/web-editor/webpack/runtime/define property getters","webpack://@openeo/web-editor/webpack/runtime/ensure chunk","webpack://@openeo/web-editor/webpack/runtime/get javascript chunk filename","webpack://@openeo/web-editor/webpack/runtime/get mini-css chunk filename","webpack://@openeo/web-editor/webpack/runtime/global","webpack://@openeo/web-editor/webpack/runtime/hasOwnProperty shorthand","webpack://@openeo/web-editor/webpack/runtime/load script","webpack://@openeo/web-editor/webpack/runtime/make namespace object","webpack://@openeo/web-editor/webpack/runtime/node module decorator","webpack://@openeo/web-editor/webpack/runtime/publicPath","webpack://@openeo/web-editor/webpack/runtime/css loading","webpack://@openeo/web-editor/webpack/runtime/jsonp chunk loading","webpack://@openeo/web-editor/webpack/startup"],"sourcesContent":["import VueUtils from '@openeo/vue-components/utils';\nimport { Job, Client, Service, UserFile, UserProcess } from '@openeo/js-client';\nimport { mapState, mapActions, mapMutations, mapGetters } from 'vuex';\nimport contentType from 'content-type';\nimport Config from '../config';\n\nexport const JSON_TYPES = [\n\t'application/json',\n\t'text/json',\n\t'application/geo+json'\n];\n\nclass Utils extends VueUtils {\n\n\tstatic getLink(stac, rel, types = JSON_TYPES) {\n\t\tif (!Array.isArray(stac.links)) {\n\t\t\treturn null;\n\t\t}\n\t\treturn stac.links.find(link => link.rel === rel && (!types || types.includes(link.type))) || null;\n\t}\n\n\tstatic axios() {\n\t\treturn Client.Environment.axios;\n\t}\n\n\tstatic saveToFile(content, filename) {\n\t\treturn Client.Environment.saveToFile(content, filename);\n\t}\n\n\tstatic getPreviewLinkFromSTAC(stac) {\n\t\tif (Utils.isObject(stac) && Array.isArray(stac.links)) {\n\t\t\tlet link = stac.links.find(link => Utils.isObject(link) && typeof link.rel === 'string' && Config.supportedMapServices.includes(link.rel.toLowerCase()));\n\t\t\tif (link) {\n\t\t\t\treturn link;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tstatic isMapServiceSupported(mapType) {\n\t\tif (typeof mapType !== 'string') {\n\t\t\treturn false;\n\t\t}\n\t\treturn Config.supportedMapServices.includes(mapType.toLowerCase());\n\t}\n\n\tstatic parseNodata(value) {\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value.map(nodata => Utils.parseNodata(nodata));\n\t\t}\n\t\telse {\n\t\t\treturn typeof value === \"string\" && value.toLowerCase() === \"nan\" ? Number.NaN : value;\n\t\t}\n\t}\n\n\tstatic isActiveJobStatusCode(status) {\n\t\tif (typeof status !== 'string') {\n\t\t\treturn null;\n\t\t}\n\t\tswitch (status.toLowerCase()) {\n\t\t\tcase 'running':\n\t\t\tcase 'queued':\n\t\t\t\treturn true;\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic exception(vm, error, alt) {\n\t\tconsole.error(error);\n\t\tvar buttons = [];\n\t\tvar title = null; \n\t\tvar message = alt;\n\t\tif (Utils.isObject(error) && typeof error.message === 'string') {\n\t\t\tif (error.code > 0) {\n\t\t\t\ttitle = \"Error #\" + error.code; \n\t\t\t}\n\t\t\telse {\n\t\t\t\ttitle = alt; \n\t\t\t}\n\t\t\tmessage = error.message;\n\n\t\t\tbuttons.push({\n\t\t\t\ttext: 'Show Details',\n\t\t\t\taction: () => vm.$root.$emit('showError', error)\n\t\t\t});\n\t\t}\n\t\telse if (typeof error === 'string') {\n\t\t\tmessage = error; \n\t\t\ttitle = alt; \n\t\t}\n\t\tbuttons.push({\n\t\t\ttext: 'Copy',\n\t\t\taction: toast => {\n\t\t\t\tlet success = vm.$clipboard(message);\n\t\t\t\tlet button = toast.config.buttons.find(btn => btn.text === 'Copy');\n\t\t\t\tif (button) {\n\t\t\t\t\tbutton.text = success ? \" Copied\" : \" Failed\";\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tvar typeDefaults =  {\n\t\t\tbuttons\n\t\t}; \n\t\tvm.$snotify.singleError(message, title, Object.assign({}, vm.$config.snotifyDefaults, typeDefaults)); \n\t} \n\tstatic error(vm, message, title = null) {\n\t\tvm.$snotify.singleError(message, title, vm.$config.snotifyDefaults); \n\t}\n\tstatic warn(vm, message, title = null) {\n\t\tvm.$snotify.warning(message, title, vm.$config.snotifyDefaults);\n\t}\n\tstatic info(vm, message, title = null) {\n\t\tvm.$snotify.info(message, title, vm.$config.snotifyDefaults); \n\t}\n\tstatic ok(vm, message, title = null) {\n\t\tvm.$snotify.success(message, title, vm.$config.snotifyDefaults); \n\t}\n\tstatic confirm(vm, message, buttons = []) {\n\t\tvar typeDefaults =  {\n\t\t\tbuttons: buttons\n\t\t}; \n\t\tvm.$snotify.confirm(message, null, Object.assign({}, vm.$config.snotifyDefaults, typeDefaults)); \n\t}\n\t\n\tstatic isChildOfModal(that) {\n\t\treturn that.$parent && that.$parent.$options.name == 'Modal'; \n\t}\n\n\tstatic getFileNameFromURL(url) {\n\t\t//this removes the anchor at the end, if there is one\n\t\turl = url.substring(0, (url.indexOf(\"#\") == -1)?url.length:url.indexOf(\"#\")); \n\t\t//this removes the query after the file name, if there is one\n\t\turl = url.substring(0, (url.indexOf(\"?\") == -1)?url.length:url.indexOf(\"?\")); \n\t\t//this removes everything before the last slash in the path\n\t\turl = url.substring(url.lastIndexOf(\"/\") + 1, url.length); \n\t\treturn url; \n\t}\n\n\tstatic makeFileName(filename, type) {\n\t\tif (filename.includes('.') || typeof type !== 'string') {\n\t\t\treturn filename;\n\t\t}\n\t\tif (!type.includes('/')) {\n\t\t\treturn filename + '.' + type;\n\t\t}\n\n\t\tlet ext = null;\n\t\ttry {\n\t\t\tlet mime = contentType.parse(type);\n\t\t\tswitch(mime.type.toLowerCase()) {\n\t\t\t\tcase 'application/json':\n\t\t\t\tcase 'application/zip':\n\t\t\t\tcase 'image/png':\n\t\t\t\tcase 'image/jpg':\n\t\t\t\tcase 'image/jpeg':\n\t\t\t\tcase 'image/gif':\n\t\t\t\tcase 'image/tiff':\n\t\t\t\tcase 'text/csv':\n\t\t\t\tcase 'text/html':\n\t\t\t\t\text = type.split('/')[1];\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text/plain':\n\t\t\t\t\text = 'txt';\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'application/netcdf':\n\t\t\t\tcase 'application/x-netcdf':\n\t\t\t\t\text = 'nc'\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t} catch (error) {}\n\n\t\tif (ext !== null) {\n\t\t\treturn filename + '.' + ext;\n\t\t}\n\t\telse {\n\t\t\treturn filename;\n\t\t}\n\t}\n\n\tstatic replaceParam(url, paramName, paramValue) {\n\t\tvar urlObj = new URL(url);\n\t\tvar query = new URLSearchParams(urlObj.search); \n\t\tquery.set(paramName, paramValue);\n\t\turlObj.search = query.toString();\n\t\treturn urlObj.toString();\n\t}\n\n\tstatic paramsForPrefix(prefix, sep = '~') {\n\t\tprefix += sep;\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\tlet params = {};\n\t\tfor(let [key, value] of urlParams) {\n\t\t\tif (key.startsWith(prefix)) {\n\t\t\t\tparams[key.substring(prefix.length)] = value;\n\t\t\t}\n\t\t}\n\t\treturn params; \n\t}\n\n\tstatic param(name) {\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\tif (urlParams.has(name)) {\n\t\t\treturn urlParams.get(name);\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tstatic isBboxInWebMercator(bboxes) {\n\t\tif (!bboxes) {\n\t\t\treturn null;\n\t\t}\n\t\tif (!Array.isArray(bboxes)) {\n\t\t\tbboxes = [bboxes];\n\t\t}\n\t\tlet maxBounds = {south: -85.06, north: 85.06}; // Max. south/north bounds for Web Mercator\n\t\treturn !bboxes.find(bbox => bbox.south < maxBounds.south || bbox.north > maxBounds.north);\n\t}\n\tstatic extentToBBox(extent) {\n\t\tif (!Array.isArray(extent)) {\n\t\t\treturn null;\n\t\t}\n\t\tvar hasZ = extent.length >= 6;\n        let obj = {\n\t\t\twest: extent[0],\n\t\t\teast: extent[hasZ ? 3 : 2],\n\t\t\tsouth: extent[1],\n\t\t\tnorth: extent[hasZ ? 4 : 3]\n\t\t};\n\t\tif (hasZ) {\n\t\t\tobj.base = extent[2];\n\t\t\tobj.height = extent[5];\n\t\t}\n\t\treturn obj;\n\t}\n\tstatic sortById(a, b) {\n\t\treturn VueUtils.compareStringCaseInsensitive(a.id, b.id);\n\t}\n\n\tstatic range(start, end) {\n\t\tif (end < start) {\n\t\t\treturn [];\n\t\t}\n\t\treturn Array.from({length: 1 + end - start}, (_, i) => start + i);\n\t}\n\n\tstatic newArray(length, defaultValue = 0) {\n\t\tif (length < 1) {\n\t\t\treturn [];\n\t\t}\n\t\treturn Array.from({length}, () => defaultValue);\n\t}\n\n\tstatic fitArray(arr, length, defaultValue = 0) {\n\t\tif (length < 1) {\n\t\t\treturn [];\n\t\t}\n\n\t\tif (length > arr.length) {\n\t\t\treturn arr.concat(Utils.newArray(length - arr.length, defaultValue));\n\t\t}\n\t\telse if (length < arr.length) {\n\t\t\treturn arr.slice(0, length);\n\t\t}\n\t\telse {\n\t\t\treturn arr;\n\t\t}\n\t}\n\n\t// Based on https://github.com/hughsk/path-sort\n\tstatic sortByPath(a, b) {\n\t\ta = a.split('/');\n\t\tb = b.split('/');\n\t\tvar l = Math.max(a.length, b.length);\n\t\tfor (var i = 0; i < l; i += 1) {\n\t\t\tif (!(i in a)) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\telse if (!(i in b)) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse if (a[i].toUpperCase() > b[i].toUpperCase()) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse if (a[i].toUpperCase() < b[i].toUpperCase()) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t\tif (a.length < b.length) {\n\t\t\treturn -1;\n\t\t}\n\t\telse if (a.length > b.length) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t}\n\n\tstatic getUniqueId() {\n\t\treturn Math.random().toString(36).substr(2, 9);\n\t}\n\n\tstatic formatIdOrTitle(value) {\n\t\tif (typeof value !== 'string') {\n\t\t\treturn value;\n\t\t}\n\t\telse if (value.startsWith('#')) {\n\t\t\treturn `<em class=\"id\">${value}</em>`;\n\t}\n\t\telse if (value === 'Unnamed') {\n\t\t\treturn `<em class=\"unnamed\">${value}</em>`;\n\t\t}\n\t\telse {\n\t\t\treturn value;\n\t\t}\n\t}\n\n\tstatic getResourceTitle(obj, showType = false) {\n\t\tlet title;\n\t\tlet isObj = Utils.isObject(obj);\n\t\tif (typeof obj === 'string') {\n\t\t\ttitle = obj;\n\t\t}\n\t\telse if (obj instanceof UserProcess) {\n\t\t\ttitle = obj.id;\n\t\t}\n\t\telse if (obj instanceof UserFile) {\n\t\t\ttitle = obj.path;\n\t\t}\n\t\telse if (isObj && typeof obj.stac_version === 'string') {\n\t\t\ttitle = obj.id;\n\t\t}\n\t\telse if (isObj && obj.title) {\n\t\t\ttitle = obj.title;\n\t\t}\n\t\telse if (isObj && obj.id) {\n\t\t\tlet id = new String(obj.id);\n\t\t\tif (id.length > 10) {\n\t\t\t\ttitle = obj.id.substr(0, 5) + '' + obj.id.substr(-5);\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttitle = obj.id\n\t\t\t}\n\t\t\ttitle = '#' + title;\n\t\t}\n\t\telse {\n\t\t\ttitle = 'Unnamed';\n\t\t}\n\t\tif (showType) {\n\t\t\tlet type;\n\t\t\tif (typeof showType === 'string') {\n\t\t\t\ttype = showType;\n\t\t\t}\n\t\t\telse if (obj instanceof Job) {\n\t\t\t\ttype = 'Job';\n\t\t\t}\n\t\t\telse if (obj instanceof Service) {\n\t\t\t\ttype = 'Service';\n\t\t\t}\n\t\t\telse if (obj instanceof UserProcess) {\n\t\t\t\ttype = 'Process';\n\t\t\t}\n\t\t\telse if (obj instanceof UserFile) {\n\t\t\t\ttype = 'File';\n\t\t\t}\n\t\t\telse if (isObj && typeof obj.stac_version === 'string' && obj.type === 'Collection') {\n\t\t\t\ttype = obj.type;\n\t\t\t}\n\n\t\t\tif (type) {\n\t\t\t\ttitle = `${title} (${type})`;\n\t\t\t}\n\t\t}\n\t\treturn title;\n\t}\n\n\tstatic resolveJsonRefs(schema) {\n\t\tvar resolver = obj => {\n\t\t\tif (!obj || typeof obj !== 'object') {\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t\tfor(var key in obj) {\n\t\t\t\tvar value = obj[key];\n\t\t\t\tif (Utils.isObject(value) && typeof value.$ref === 'string' && value.$ref.match(/^#(\\/[^\\/]+)+$/i)) {\n\t\t\t\t\tvar parts = value.$ref.split('/').slice(1);\n\t\t\t\t\tvar result = schema;\n\t\t\t\t\twhile (parts.length) {\n\t\t\t\t\t\tlet propertyName = parts.shift();\n\t\t\t\t\t\tresult = result[propertyName];\n\t\t\t\t\t\tif (typeof result === 'undefined') {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tobj[key] = result;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tobj[key] = resolver(value);\n\t\t\t}\n\t\t\treturn obj;\n\t\t};\n\t\treturn resolver(schema);\n\t}\n\tstatic extractUDPParams(process) {\n\t\tconst pos = process.indexOf('@');\n\t\tif (pos < 0) {\n\t\t\treturn [process, undefined];\n\t\t}\n\t\telse {\n\t\t\tconst id = process.substring(0, pos);\n\t\t\tconst namespace = process.substring(pos + 1);\n\t\t\treturn [id, namespace];\n\t\t}\n\t}\n\tstatic getProcessingExpression(stac) {\n\t\tlet key = 'processing:expression';\n\t\tif (!Utils.isObject(stac) || !stac[key]) {\n\t\t\treturn null;\n\t\t}\n\t\tlet obj = stac[key];\n\t\tif (Array.isArray(obj)) {\n\t\t\tif (obj.length > 0) {\n\t\t\t\tobj = obj[0];\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\tif (Utils.isObject(obj) && obj.format === 'openeo' && Utils.isObject(obj.expression)) {\n\t\t\treturn obj.expression;\n\t\t}\n\t\telse {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tstatic confirmOpenAll(files) {\n\t\treturn confirm(`You are about to open ${files.length} individual files / tabs, which could slow down the web browser. Are you sure you want to open all of them?`);\n\t}\n\n};\n\nUtils.mapState = mapState;\nUtils.mapGetters = mapGetters;\nUtils.mapMutations = mapMutations;\nUtils.mapActions = mapActions;\n\nexport default Utils;\n","import Utils from '../utils.js';\n\nexport class Format {\n\n\tconstructor(asset) {\n\t\tObject.assign(this, asset);\n\t\tthis.context = null;\n\t}\n\n\tsetContext(context) {\n\t\tthis.context = context;\n\t}\n\n\tgetContext() {\n\t\treturn this.context;\n\t}\n\n\tgetUrl() {\n\t\treturn this.href;\n\t}\n\n\tcanGroup() {\n\t\treturn false;\n\t}\n\n\tisBinary() {\n\t\treturn true;\n\t}\n\n\tdownload(filename = null) {\n\t\tlet tempLink = document.createElement('a');\n\t\ttempLink.style.display = 'none';\n\t\ttempLink.href = this.getUrl();\n\t\ttempLink.setAttribute('download', filename ? filename :  Utils.makeFileName(\"result\", this.type));\n\t\ttempLink.setAttribute('target', '_blank');\n\t\tdocument.body.appendChild(tempLink);\n\t\ttempLink.click();\n\t\tdocument.body.removeChild(tempLink);\n\t}\n\n\tasync loadData(connection) {\n\t\tif (!this.loaded) {\n\t\t\tthis.data = await this.fetchData(connection);\n\t\t\tthis.loaded = true;\n\t\t}\n\t}\n\n\tgetData() {\n\t\tif (!this.loaded) {\n\t\t\tthrow new Error('Data must be loaded before');\n\t\t}\n\t\treturn this.data;\n\t}\n\n\twithAuth(connection, url) {\n\t\tlet auth = false;\n\t\tif (!url.startsWith('blob:')) {\n\t\t\ttry {\n\t\t\t\tlet apiUrl = new URL(connection.getUrl());\n\t\t\t\tlet requestUrl = new URL(url);\n\t\t\t\tauth = apiUrl.origin === requestUrl.origin;\n\t\t\t} catch (error) {}\n\t\t}\n\t\treturn auth;\n\t}\n\n\tasync fetchData(connection) {\n\t\tlet blob;\n\t\tlet url = this.getUrl();\n\t\tif (url.startsWith('blob:')) {\n\t\t\tlet response = await fetch(url);\n\t\t\tblob = await response.blob();\n\t\t}\n\t\telse {\n\t\t\tlet options = {};\n\t\t\tif (this.withAuth(connection, url)) {\n\t\t\t\toptions.headers = connection._getAuthHeaders()\n\t\t\t}\n\t\t\tblob = await connection.download(url, options);\n\t\t}\n\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\tlet reader = new FileReader();\n\t\t\treader.onload = event => resolve(event.target.result);\n\t\t\treader.onerror = reject;\n\t\t\tif (this.isBinary()) {\n\t\t\t\treader.readAsBinaryString(blob);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treader.readAsText(blob);\n\t\t\t}\n\t\t});\n\t\tlet data = await promise;\n\t\treturn await this.parseData(data);\n\t}\n\n\tasync parseData(data) {\n\t\treturn data;\n\t}\n\n}\n\nexport class SupportedFormat extends Format {\n\n\tconstructor(asset, component = null, icon = 'fa-database', props = {}, events = {}) {\n\t\tsuper(asset);\n\t\tthis.loaded = false;\n\t\tthis.component = component;\n\t\tthis.props = props;\n\t\tif (!this.props.data) {\n\t\t\tthis.props.data = this;\n\t\t}\n\t\tthis.icon = icon;\n\t\tthis.events = events;\n\t}\n\n\tisBinary() {\n\t\treturn false;\n\t}\n\n}\n\nexport class UnsupportedFormat extends Format {\n\n\tconstructor(asset) {\n\t\tsuper(asset);\n\t}\n\n}\n\nexport class FormatCollection extends SupportedFormat {\n\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logo\"},[(_vm.$config.logo)?_c('img',{attrs:{\"src\":_vm.$config.logo,\"alt\":_vm.$config.serviceName}}):_vm._e(),_c('h2',[_vm._v(_vm._s(_vm.$config.appName)+\" \"),_c('span',{staticClass:\"version\",on:{\"click\":_vm.showWebEditorInfo}},[_vm._v(_vm._s(_vm.version))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"logo\">\n\t\t<img v-if=\"$config.logo\" :src=\"$config.logo\" :alt=\"$config.serviceName\" />\n\t\t<h2>{{ $config.appName }} <span class=\"version\" @click=\"showWebEditorInfo\">{{ version }}</span></h2>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.js';\nimport Package from '../../package.json';\n\nexport default {\n\tname: 'Logo',\n\tmixins: [EventBusMixin],\n\tdata() {\n\t\treturn {\n\t\t\tversion: Package.version\n\t\t}\n\t},\n\tmethods: {\n\t\tshowWebEditorInfo() {\n\t\t\tthis.broadcast('showWebEditorInfo');\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@use '../../theme' as *;\n\n.logo {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 10px;\n\tbox-sizing: border-box;\n\tflex-wrap: wrap;\n\n\timg {\n\t\tdisplay: inline-block;\n\t\tmax-height: 100%;\n\t\tmax-width: 100%;\n\t}\n\th2 {\n\t\tdisplay: inline-block;\n\t\tmargin: 0.5rem 1rem;\n\t\tfont-size: 40px;\n\t\tcolor: white;\n\t\tfont-weight: normal;\n\t\twhite-space: nowrap;\n\t}\n\t.version {\n\t\tposition: relative;\n\t\ttop: -26px;\n\t\tfont-size: 11px;\n\t\tbackground-color: $mainColor;\n\t\tcolor: white;\n\t\tpadding: 3px;\n\t\tborder-radius: 5px;\n\t\tcursor: pointer;\n\t\t\n\t\t&:hover {\n\t\t\tbackground-color: white;\n\t\t\tcolor: $mainColor;\n\t\t}\n\t}\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Logo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Logo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Logo.vue?vue&type=template&id=4ed29f1f&scoped=true\"\nimport script from \"./Logo.vue?vue&type=script&lang=js\"\nexport * from \"./Logo.vue?vue&type=script&lang=js\"\nimport style0 from \"./Logo.vue?vue&type=style&index=0&id=4ed29f1f&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ed29f1f\",\n  null\n  \n)\n\nexport default component.exports","export default {\n\t// Set this to connect to a back-end automatically when opening the Web Editor,\n\t// so you could set this to https://example.com and then the Web Editor connects\n\t// to the corresponding back-end automatically.\n\tserverUrl: '',\n\n\t// The name of the service\n\tserviceName: 'EOEPCA',\n\t// The name of the app\n\tappName: 'Processing Editor',\n\n\t// Skip login and automatically load up the \"discovery mode\"\n\tskipLogin: false,\n\n\t// Default location for maps\n\t// Default to the center of the EU in Wuerzburg: \n\t// https://en.wikipedia.org/wiki/Geographical_midpoint_of_Europe#Geographic_centre_of_the_European_Union\n\t// The zoom level should show most of Europe\n\tmapLocation: [49.8, 9.9],\n\tmapZoom: 4,\n\n\t// OSM Nominatim compliant geocoder URL, remove to disable\n\tgeocoder: \"https://nominatim.openstreetmap.org/search\",\n\n\t// A message shown on the login page\n\tloginMessage: '',\n\n\t// The logo to show\n\tlogo: './logo.png',\n\n\t// Defaults for notifications\n\tsnotifyDefaults: {\n\t\ttimeout: 10000,\n\t\ttitleMaxLength: 30,\n\t\tbodyMaxLength: 120,\n\t\tshowProgressBar: true,\n\t\tcloseOnClick: true,\n\t\tpauseOnHover: true\n\t},\n\n\t// List of supported web map services (all lower-cased)\n\tsupportedMapServices: [\n\t\t'xyz',\n\t\t'wmts'\n\t],\n\n\t// List of supported batch job sharing services\n\tsupportedBatchJobSharingServices: [\n\t\t'ShareEditor',\n\t\t'CopyUrl',\n\t\t'BlueskyShare',\n\t\t'MastodonSocialShare',\n\t\t'XShare'\n\t],\n\n\t// List of supported web service sharing services\n\tsupportedWebServiceSharingServices: [\n\t\t'ShareEditor',\n\t\t'CopyUrl',\n\t\t'BlueskyShare',\n\t\t'MastodonSocialShare',\n\t\t'XShare'\n\t],\n\n\t// List of supported wizards\n\tsupportedWizards: [\n\t\t{\n\t\t\tcomponent: 'Download',\n\t\t\ttitle: 'Download Data',\n\t\t\tdescription: 'Just download a small portion of data from an openEO Collection.',\n\t\t\trequirements: capabilities => capabilities.apiType() === 'openeo'\n\t\t},\n\t\t{\n\t\t\tcomponent: 'UDP',\n\t\t\ttitle: options => typeof options.process === 'string' ? options.process.replace(/@.+/, '') : 'Run UDP',\n\t\t\tdescription: 'Executes a user-defined process',\n\t\t\trequirements: capabilities => capabilities.apiType() === 'openeo'\n\t\t},\n\t\t{\n\t\t\tcomponent: 'SpectralIndices',\n\t\t\ttitle: 'Compute Spectral Indices',\n\t\t\tdescription: 'A spectral index is a mathematical equation that is applied on the various spectral bands of an image per pixel. It is often used to highlight vegetation, urban areas, snow, burn, soil, or water/drought/moisture stress. Provided by Awesome Spectral Indices (https://github.com/awesome-spectral-indices/awesome-spectral-indices).',\n\t\t\trequiredProcesses: ['reduce_dimension'],\n\t\t\trequirements: capabilities => capabilities.apiType() === 'openeo'\n\t\t}\n\t],\n\n\t// Configure the (base)maps\n\tbasemaps: [\n\t\t{\n\t\t\t// Title for the basemap\n\t\t\ttitle: \"OpenStreetMap\",\n\t\t\t// Templated URI for the XYZ basemap.\n\t\t\turl: 'https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n\t\t\t// Attributon for the basemap. HTML is allowed.\n\t\t\tattributions: '&#169; <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">OpenStreetMap</a> contributors.',\n\t\t\t// Maximum zoom level\n\t\t\tmaxZoom: 19\n\t\t}\n\t],\n\n\t// Import processes from openeo-community-examples repo\n\timportCommunityExamples: true,\n\n\t// Adds a button to the editor which allows to skip the login and send unauthenitcated\n\t// requests to endopints that otherwise would require authentication.\n\tallowIgnoreLogin: true,\n\n\t// Additional process namespaces to load by default\n\tprocessNamespaces: [],\n\n\t// Key is the OIDC provider id, value is the client ID\n\toidcClientIds: {},\n\n\t// Show a warning if HTTP is used instead of HTTPS\n\tshowHttpWarning: true,\n\n\t// refresh interval for jobs/user data/services etc. in minutes - doesn't apply to logs.\n\t// It's recommended to use a value between 1 and 5 minutes.\n\tdataRefreshInterval: 2,\n\n\t// Show or hide experimental and/or deprecated entites by default (e.g. processes, collections)\n\tshowExperimentalByDefault: false,\n\tshowDeprecatedByDefault: false,\n\n\t// number of items to show per page in the UI (jobs, services, files, UDPs) - null to disable pagination\n\tpageLimit: 50,\n\t\n};","import { SupportedFormat } from './format';\n\nclass CSV extends SupportedFormat {\n\n\tconstructor(asset, delim = [',', ';']) {\n\t\tsuper(asset, 'TableViewer', 'fa-table');\n\t\tthis.delim = delim;\n\t}\n\n\tasync parseData(data) {\n\t\tif (typeof data === 'string') {\n\t\t\t// Parse CSV\n\t\t\tlet array = this.parseCSV(data.trim());\n\t\t\t// Convert values into numbers, if possible\n\t\t\treturn array.map(row => row.map(col => {\n\t\t\t\tcol = col.trim();\n\t\t\t\tif (col.length === 0) {\n\t\t\t\t\treturn NaN;\n\t\t\t\t}\n\t\t\t\telse if (!isNaN(col)) { // https://stackoverflow.com/a/35759874/9709414\n\t\t\t\t\treturn parseFloat(col);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn col;\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\t\treturn data;\n\t}\n\n\t// From https://stackoverflow.com/questions/1293147/example-javascript-code-to-parse-csv-data\n\tparseCSV(str) {\n\t\tvar arr = [];\n\t\tvar quote = false;  // 'true' means we're inside a quoted field\n\t\n\t\t// Iterate over each character, keep track of current row and column (of the returned array)\n\t\tfor (var row = 0, col = 0, c = 0; c < str.length; c++) {\n\t\t\tvar cc = str[c], nc = str[c+1];        // Current character, next character\n\t\t\tarr[row] = arr[row] || [];             // Create a new row if necessary\n\t\t\tarr[row][col] = arr[row][col] || '';   // Create a new column (start with empty string) if necessary\n\t\n\t\t\t// If the current character is a quotation mark, and we're inside a\n\t\t\t// quoted field, and the next character is also a quotation mark,\n\t\t\t// add a quotation mark to the current column and skip the next character\n\t\t\tif (cc == '\"' && quote && nc == '\"') {\n\t\t\t\tarr[row][col] += cc; ++c;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\t// If it's just one quotation mark, begin/end quoted field\n\t\t\tif (cc == '\"') {\n\t\t\t\tquote = !quote;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\t// If it's a elimiter and we're not in a quoted field, move on to the next column\n\t\t\tif (this.delim.includes(cc) && !quote) {\n\t\t\t\t++col;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\t// If it's a newline (CRLF) and we're not in a quoted field, skip the next character\n\t\t\t// and move on to the next row and move to column 0 of that new row\n\t\t\tif (cc == '\\r' && nc == '\\n' && !quote) {\n\t\t\t\t++row; col = 0; ++c;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\t// If it's a newline (LF or CR) and we're not in a quoted field,\n\t\t\t// move on to the next row and move to column 0 of that new row\n\t\t\tif (cc == '\\n' && !quote) {\n\t\t\t\t++row; col = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (cc == '\\r' && !quote) {\n\t\t\t\t++row; col = 0;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\t// Otherwise, append the current character to the current column\n\t\t\tarr[row][col] += cc;\n\t\t}\n\t\treturn arr;\n\t}\n\n}\n\nexport default CSV;","import proj4 from 'proj4';\nimport { get as getProjection, transformExtent } from 'ol/proj';\nimport Projection from 'ol/proj/Projection';\nimport { register } from 'ol/proj/proj4';\n\nimport Utils from '../../utils';\n\nexport default class ProjManager {\n\n\tstatic async get(data) {\n\t\tif (data instanceof Projection) {\n\t\t\treturn data;\n\t\t}\n\n\t\treturn await ProjManager._load(data);\n\t}\n\n\tstatic add(code, meta, extent) {\n\t\ttry {\n\t\t\tproj4.defs(code, meta);\n\t\t\tregister(proj4);\n\t\t\tlet projection = getProjection(code);\n\t\t\tif (Array.isArray(extent)) {\n\t\t\t\textent = transformExtent(extent, 'EPSG:4326', projection);\n\t\t\t\tprojection.setExtent(extent);\n\t\t\t}\n\t\t\tif (meta.includes('+datum=WGS84')) {\n\t\t\t\tprojection.basemap = true;\n\t\t\t}\n\t\t\treturn projection;\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t// Get projection details from STAC (todo: add collection support)\n\tstatic async addFromStac(stac) {\n\t\tif (Utils.isObject(stac) && Utils.isObject(stac.properties)) {\n\t\t\tif (stac.properties['proj:code']) {\n\t\t\t\treturn await ProjManager.get(stac.properties['proj:code']);\n\t\t\t}\n\t\t\telse if (stac.properties['proj:wkt2']) {\n\t\t\t\treturn ProjManager.add(stac.id, stac.properties['proj:wkt2']);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tstatic async _load(crs) {\n\t\tlet code, id;\n\t\tif (typeof crs === 'string' && crs.match(/^EPSG:\\d+$/i)) {\n\t\t\tcode = crs.toUpperCase();\n\t\t\tid = crs.substr(5);\n\t\t}\n\t\telse if (Number.isInteger(crs)) {\n\t\t\tcode = `EPSG:${crs}`\n\t\t\tid = String(crs);\n\t\t}\n\t\telse {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Get projection from cache\n\t\tlet projection = getProjection(code);\n\t\tif (projection) {\n\t\t\treturn projection;\n\t\t}\n\n\t\t// Get projection from database\n\t\tlet epsg = await import('../../assets/epsg-proj.json');\n\t\tif (id in epsg) {\n\t\t\treturn ProjManager.add(code, epsg[id][0], epsg[id][1]);\n\t\t}\n\n\t\t// No projection found\n\t\treturn null;\n\t}\n\n}","import Utils from './utils';\nimport { ProcessSchema, ProcessDataType } from '@openeo/js-commons';\n\nexport default class Process {\n\n\tstatic isMathProcess(p, operatorMapping = {}) {\n\t\tif (!Utils.isObject(p)) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Skip processes handled by operators, if given\n\t\tlet operatorProcesses = Object.values(operatorMapping);\n\t\tif (operatorProcesses.includes(p.id)) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Process must return a numerical value\n\t\tif (!Utils.isObject(p.returns) || !p.returns.schema) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet allowedTypes = ['number', 'integer', 'any'];\n\t\tlet returns = new ProcessSchema(p.returns.schema);\n\t\tif (!allowedTypes.includes(returns.nativeDataType())) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Required Process parameters must accept numerical values\n\t\tif (Array.isArray(p.parameters)) {\n\t\t\tfor(var i in p.parameters) {\n\t\t\t\tlet param = p.parameters[i];\n\t\t\t\tif (param.optional) {\n\t\t\t\t\tcontinue; // Skip optional parameters\n\t\t\t\t}\n\t\t\t\tif (!param.schema) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet schema = new ProcessSchema(param.schema);\n\t\t\t\tif (!allowedTypes.includes(schema.nativeDataType())) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t// ToDo: Parameters with a dash (and other operators) in them are a problem\n\n\t\treturn true;\n\t}\n\n\tstatic arrayOf(datatype) {\n\t\tif (!(datatype instanceof ProcessDataType)) {\n\t\t\tdatatype = new ProcessDataType(datatype);\n\t\t}\n\t\tif (datatype.nativeDataType() === 'array' && Utils.isObject(datatype.schema.items)) {\n\t\t\tlet subtype = new ProcessDataType(datatype.schema.items);\n\t\t\treturn subtype.dataType();\n\t\t}\n\t\treturn undefined;\n\t}\n}","export default {\n\tdata() {\n\t\treturn {\n\t\t\teventBusListeners: {}\n\t\t};\n\t},\n\tbeforeDestroy() {\n\t\tfor (var eventName in this.eventBusListeners) {\n\t\t\tthis.$root.$off(eventName, this.eventBusListeners[eventName]);\n\t\t}\n\t},\n\tmethods: {\n\t\thasListener(eventName) {\n\t\t\treturn !!this.eventBusListeners[eventName];\n\t\t},\n\t\tlisten(eventName, callback) {\n\t\t\tthis.unlisten(eventName);\n\t\t\tthis.$root.$on(eventName, callback);\n\t\t\tthis.eventBusListeners[eventName] = callback;\n\t\t},\n\t\tunlisten(eventName) {\n\t\t\tif (this.hasListener(eventName)) {\n\t\t\t\tthis.$root.$off(eventName, this.eventBusListeners[eventName]);\n\t\t\t\tdelete this.eventBusListeners[eventName];\n\t\t\t}\n\t\t},\n\t\tbroadcast() {\n\t\t\tthis.$root.$emit(...arguments);\n\t\t}\n\t}\n}","import Utils from '../utils';\nimport { SupportedFormat } from './format';\n\nclass JSON_ extends SupportedFormat {\n\n\tconstructor(asset, component = \"DataViewer\") {\n\t\tsuper(asset, component);\n\n\t\tthis.isGeoJson = false;\n\t\t// this.isCovJson = false;\n\t}\n\n\tasync parseData(data) {\n\t\tif (typeof data === 'string') {\n\t\t\ttry {\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t}\n\t\tif (Utils.detectGeoJson(data)) {\n\t\t\tthis.isGeoJson = true;\n\t\t\tthis.component = 'MapViewer';\n\t\t\tthis.icon = 'fa-map';\n\t\t}\n\t\telse if (this.isTable(data)) {\n\t\t\tthis.component = 'TableViewer';\n\t\t\tthis.icon = 'fa-table';\n\t\t}\n\t\treturn data;\n\t}\n\n\tisTable(data) {\n\t\tif (!data || typeof data !== 'object' || Utils.size(data) === 0) {\n\t\t\treturn false;\n\t\t}\n\t\tlet values = Object.values(data);\n\t\tlet keys = Object.keys(values[0]);\n\t\treturn !values.some(row => !row || typeof row !== 'object' || !Utils.equals(Object.keys(row), keys));\n\t}\n}\n\nexport default JSON_;","import { SupportedFormat } from './format';\nimport Utils from '../utils';\nimport ProjManager from '../components/maps/projManager';\n\nimport { fromUrl as tiffFromUrl, fromBlob as tiffFromBlob, globals as _ } from 'geotiff';\n\nimport { toUserExtent } from 'ol/proj';\nimport Projection from 'ol/proj/Projection';\nimport { fromCode as unitsFromCode } from 'ol/proj/Units';\n\nconst GDAL_MIN = 'STATISTICS_MINIMUM';\nconst GDAL_MAX = 'STATISTICS_MAXIMUM';\nconst GDAL_NAME = 'DESCRIPTION';\n\nclass GeoTIFF extends SupportedFormat {\n\n\tconstructor(asset, stac) {\n\t\tsuper(asset, \"MapViewer\", 'fa-map', { removableLayers: true });\n\t\tthis._bands = [];\n\t\tthis._nodata = [];\n\t\tthis.img = null;\n\t\tthis.projection = null;\n\t\tthis.extent = null;\n\t\tthis.convertToRGB = false;\n\t\tthis.stac = stac;\n\t}\n\n\tisBinary() {\n\t\treturn true;\n\t}\n\n\tcanGroup() {\n\t\treturn true;\n\t}\n\n\tasync loadData(connection) {\n\t\tif (!this.loaded) {\n\t\t\tawait this.parseMetadata(connection);\n\t\t\tthis.loaded = true;\n\t\t}\n\t\treturn this;\n\t}\n\n\tgetData() {\n\t\treturn this;\n\t}\n\n\tasync parseMetadata(connection) {\n\t\tlet stacHasExtent = this.stac && (this.stac.geometry || this.stac.extent);\n\n\t\t// Get projection from STAC\n\t\tthis.projection = await ProjManager.addFromStac(this.stac);\n\n\t\t// Get nodata from STAC file:nodata\n\t\tif (Array.isArray(this['file:nodata']) && this['file:nodata'].length > 0) {\n\t\t\tthis._nodata = Utils.parseNodata(this['file:nodata']);\n\t\t}\n\n\t\t// Get min/max/nodata from STAC bands\n\t\tif (Array.isArray(this.bands) && this.bands.length > 0) {\n\t\t\tthis.bands.forEach((band, i) => {\n\t\t\t\t// Get name from band\n\t\t\t\tif (band.name) {\n\t\t\t\t\tthis.setBandInfo(i, {\n\t\t\t\t\t\tname: band.name\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Set min/max from statistics\n\t\t\t\tif (Utils.isObject(band.statistics)) {\n\t\t\t\t\tthis.setBandInfo(i, {\n\t\t\t\t\t\tmin: band.statistics.minimum,\n\t\t\t\t\t\tmax: band.statistics.maximum\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// per-band no-data values are not supported, simply read the no-data from the first occurance if not defined yet\n\t\t\t\tif (this._nodata.length === 0 && typeof band.nodata !== 'undefined') {\n\t\t\t\t\tthis._nodata.push(Utils.parseNodata(band.nodata));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// Load example tiff image\n\t\tlet tiff;\n\t\tif (this.getBlob()) {\n\t\t\ttiff = await tiffFromBlob(this.getBlob());\n\t\t}\n\t\telse {\n\t\t\tlet url = this.getUrl();\n\t\t\tlet options = {};\n\t\t\tif (this.withAuth(connection, url)) {\n\t\t\t\toptions.headers = connection._getAuthHeaders()\n\t\t\t}\n\t\t\ttiff = await tiffFromUrl(url, options);\n\t\t}\n\t\tthis.img = await tiff.getImage();\n\n\t\t// Get data for each band / sample\n\t\tfor (let i = 0; i < this.img.getSamplesPerPixel(); i++) {\n\t\t\tlet data = {};\n\n\t\t\t// Use min/max for data type (as fallback)\n\t\t\ttry {\n\t\t\t\tlet dummy = this.img.getArrayForSample(i);\n\t\t\t\tif (!Number.isFinite(this._bands[i].min)) {\n\t\t\t\t\tdata.min = this.getMinForDataType(dummy);\n\t\t\t\t}\n\t\t\t\tif (!Number.isFinite(this._bands[i].max)) {\n\t\t\t\t\tdata.max = this.getMaxForDataType(dummy);\n\t\t\t\t}\n\t\t\t} catch (error) {}\n\n\t\t\t// Set min/max/name from statistics, if available\n\t\t\tlet band = this.img.getGDALMetadata(i);\n\t\t\tif (Utils.isObject(band)) {\n\t\t\t\tif (GDAL_MIN in band) {\n\t\t\t\t\tdata.min = parseFloat(band[GDAL_MIN]);\n\t\t\t\t}\n\t\t\t\tif (GDAL_MAX in band) {\n\t\t\t\t\tdata.max = parseFloat(band[GDAL_MAX]);\n\t\t\t\t}\n\t\t\t\tif (GDAL_NAME in band) {\n\t\t\t\t\tdata.name = band[GDAL_NAME];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setBandInfo(i, data);\n\n\t\t\t// get no-data values if needed\n\t\t\tlet nodata = this.img.getGDALNoData();\n\t\t\tif (this._nodata.length === 0 && nodata !== null) {\n\t\t\t\tthis._nodata.push(nodata);\n\t\t\t}\n\t\t}\n\n\t\t// Get projection from GeoTiff\n\t\tlet code;\n\t\tif (!this.projection && this.img.geoKeys) {\n\t\t\tlet { ProjectedCSTypeGeoKey, GeographicTypeGeoKey, ProjLinearUnitsGeoKey, GeogAngularUnitsGeoKey } = this.img.geoKeys;\n\t\t\tif (ProjectedCSTypeGeoKey) {\n\t\t\t\tcode = 'EPSG:' + ProjectedCSTypeGeoKey;\n\t\t\t\tthis.projection = await ProjManager.get(code);\n\t\t\t}\n\t\t\tif (!this.projection && GeographicTypeGeoKey) {\n\t\t\t\tcode = 'EPSG:' + GeographicTypeGeoKey;\n\t\t\t\tthis.projection = await ProjManager.get(code);\n\t\t\t}\n\n\t\t\tif (!this.projection && code) {\n\t\t\t\tconst units = (ProjLinearUnitsGeoKey && unitsFromCode(ProjLinearUnitsGeoKey)) || (GeogAngularUnitsGeoKey && unitsFromCode(GeogAngularUnitsGeoKey));\n\t\t\t\tif (units) {\n\t\t\t\t\tthis.projection = new Projection({ code, units });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Get extent from geotiff\n\t\tif (!stacHasExtent) {\n\t\t\ttry {\n\t\t\t\tlet bbox = this.img.getBoundingBox();\n\t\t\t\tthis.extent = toUserExtent(bbox, this.projection);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.warn(error);\n\t\t\t}\n\t\t}\n\n\t\t// Store color map as RGB\n\t\tif (this.img.fileDirectory.ColorMap) {\n\t\t\tconst map = Array.from(this.img.fileDirectory.ColorMap);\n\t\t\tconst greenOffset = map.length / 3;\n\t\t\tconst blueOffset = map.length / 3 * 2;\n\t\t\tthis.colorMap = [];\n\t\t\tfor (let i = 0; i < greenOffset; i++) {\n\t\t\t\tthis.colorMap.push([\n\t\t\t\t\tMath.trunc(map[i] / 65536 * 256),\n\t\t\t\t\tMath.trunc(map[i + greenOffset] / 65536 * 256),\n\t\t\t\t\tMath.trunc(map[i + blueOffset] / 65536 * 256),\n\t\t\t\t\tthis._nodata.includes(i) ? 0 : 1\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\n\t\t// Get photometric interpretation\n\t\tswitch (this.img.fileDirectory.PhotometricInterpretation) {\n\t\t\tcase _.photometricInterpretations.CMYK:\n\t\t\tcase _.photometricInterpretations.YCbCr:\n\t\t\tcase _.photometricInterpretations.CIELab:\n\t\t\t\tthis.convertToRGB = true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\t// RGB and (Black/White)IsZero are handled via user control\n\t\t\t\t// Palette is handled directly by our styling\n\t\t\t\tthis.convertToRGB = false;\n\t\t}\n\t}\n\n\tsetBandInfo(i, data) {\n\t\tif (this._bands[i]) {\n\t\t\tObject.assign(this._bands[i], data);\n\t\t}\n\t\telse {\n\t\t\tthis._bands.push(Object.assign({ id: i + 1 }, data));\n\t\t}\n\t}\n\n\tgetBlob() {\n\t\treturn this.blob;\n\t}\n\n\tgetNoData() {\n\t\treturn this._nodata;\n\t}\n\n\tgetContext() {\n\t\treturn this.stac;\n\t}\n\n\tgetBands() {\n\t\treturn this._bands;\n\t}\n\n\tgetProjection() {\n\t\treturn this.projection;\n\t}\n\n\tgetExtent() {\n\t\treturn this.extent;\n\t}\n\n\tgetColorMap() {\n\t\treturn this.colorMap;\n\t}\n\n\tgetMinForDataType(array) {\n\t\tif (array instanceof Int8Array) {\n\t\t\treturn -128;\n\t\t}\n\t\tif (array instanceof Int16Array) {\n\t\t\treturn -32768;\n\t\t}\n\t\tif (array instanceof Int32Array) {\n\t\t\treturn -2147483648;\n\t\t}\n\t\tif (array instanceof Float32Array) {\n\t\t\treturn 1.2e-38;\n\t\t}\n\t\treturn 0;\n\t}\n\t\n\tgetMaxForDataType(array) {\n\t\tif (array instanceof Int8Array) {\n\t\t\treturn 127;\n\t\t}\n\t\tif (array instanceof Uint8Array) {\n\t\t\treturn 255;\n\t\t}\n\t\tif (array instanceof Uint8ClampedArray) {\n\t\t\treturn 255;\n\t\t}\n\t\tif (array instanceof Int16Array) {\n\t\t\treturn 32767;\n\t\t}\n\t\tif (array instanceof Uint16Array) {\n\t\t\treturn 65535;\n\t\t}\n\t\tif (array instanceof Int32Array) {\n\t\t\treturn 2147483647;\n\t\t}\n\t\tif (array instanceof Uint32Array) {\n\t\t\treturn 4294967295;\n\t\t}\n\t\tif (array instanceof Float32Array) {\n\t\t\treturn 3.4e38;\n\t\t}\n\t\treturn 255;\n\t}\n\n}\n\nexport default GeoTIFF;","if(typeof L === 'undefined') { var e = new Error(\"Cannot find module 'L'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }\n\nmodule.exports = L;","import Utils from './utils';\nimport Process from './process';\nimport { Formula } from '@openeo/js-client';\nimport { ProcessGraph } from '@openeo/js-processgraphs';\n\nexport default {\n\tmathProcesses: null,\n\tgetMathProcesses() {\n\t\tif (!this.mathProcesses) {\n\t\t\tthis.mathProcesses = this.all().filter(Process.isMathProcess);\n\t\t}\n\t\treturn this.mathProcesses;\n\t},\n\tisMath(process) {\n\t\tif (process instanceof ProcessGraph) {\n\t\t\tprocess = process.process;\n\t\t}\n\t\tif (!Utils.isObject(process) || Utils.size(process.process_graph) === 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet mathProcessIds = this.getMathProcesses().map(p => p.id)\n\t\t\t.concat(Object.values(Formula.operatorMapping))\n\t\t\t.concat(Object.keys(Formula.arrayOperatorMapping))\n\t\t\t.concat(['array_element']);\n\t\tlet unsupportedFuncs = Object.values(process.process_graph).find(node => !mathProcessIds.includes(node.process_id));\n\t\treturn (typeof unsupportedFuncs === 'undefined');\n\t}\n};","import { SupportedFormat } from './format';\n\nclass BrowserImage extends SupportedFormat {\n\n\tconstructor(asset) {\n\t\tsuper(asset, 'ImageViewer', 'fa-image');\n\t}\n\n\tisBinary() {\n\t\treturn true;\n\t}\n\n\tasync fetchData() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet img = new Image();\n\t\t\timg.crossOrigin = 'anonymous';\n\t\t\timg.onerror = () => reject(new Error('Failed to load the image'));\n\t\t\timg.onload = () => resolve(img);\n\t\t\timg.fetchPriotity = 'high';\n\t\t\timg.decoding = 'sync';\n\t\t\timg.src = this.getUrl();\n\t\t});\n\t}\n\n}\n\nexport default BrowserImage;","import { SupportedFormat } from './format';\n\nclass NativeType extends SupportedFormat {\n\n\tconstructor(asset) {\n\t\tsuper(asset, \"DataViewer\");\n\t}\n\n}\n\nexport default NativeType;","import CSV from './csv';\n\nclass TSV extends CSV {\n\n\tconstructor(asset) {\n\t\tsuper(asset, [\"\\t\"]);\n\t}\n\n}\n\nexport default TSV;","import contentType from 'content-type';\n\nimport BrowserImage from '../formats/browserImage';\nimport CSV from '../formats/csv';\nimport GeoTIFF from '../formats/geotiff';\nimport JSON_ from '../formats/json';\nimport NativeType from './native';\nimport TSV from '../formats/tsv';\nimport { UnsupportedFormat } from './format';\n\nexport default class FormatRegistry {\n\n\tconstructor() {\n\t}\n\n\tcreateFilesFromSTAC(stac, resource = null) {\n\t\tlet files = Object.values(stac.assets)\n\t\t\t.filter(asset => !Array.isArray(asset.roles) || !asset.roles.includes(\"metadata\"))\n\t\t\t.map(asset => this.createFileFromAsset(asset, stac));\n\t\tif (resource) {\n\t\t\tfiles.forEach(file => file.setContext(resource));\n\t\t}\n\t\treturn files;\n\t}\n\n\tcreateFilesFromBlob(data) {\n\t\tif (!(data instanceof Blob)) {\n\t\t\tthrow new Error(\"Given data is not a valid Blob\");\n\t\t}\n\t\treturn this.createFilesFromSTAC({\n\t\t\tstac_version: \"1.0.0\",\n\t\t\ttype: \"Feature\",\n\t\t\tgeometry: null,\n\t\t\tproperties: {},\n\t\t\tlinks: [],\n\t\t\tassets: {\n\t\t\t\tresult: {\n\t\t\t\t\thref: URL.createObjectURL(data),\n\t\t\t\t\tblob: data,\n\t\t\t\t\ttype: data.type\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tcreateFileFromAsset(asset, stac) {\n\t\ttry {\n\t\t\t// Detect by media type\n\t\t\tif (typeof asset.type === 'string') {\n\t\t\t\tlet mime = contentType.parse(asset.type.toLowerCase());\n\t\t\t\tswitch(mime.type) {\n\t\t\t\t\tcase 'image/png':\n\t\t\t\t\tcase 'image/jpg':\n\t\t\t\t\tcase 'image/jpeg':\n\t\t\t\t\tcase 'image/gif':\n\t\t\t\t\tcase 'image/webp':\n\t\t\t\t\t\treturn new BrowserImage(asset);\n\t\t\t\t\tcase 'application/json':\n\t\t\t\t\tcase 'text/json':\n\t\t\t\t\tcase 'application/geo+json':\n\t\t\t\t\t\treturn new JSON_(asset);\n\t\t\t\t\tcase 'text/plain':\n\t\t\t\t\t\treturn new NativeType(asset);\n\t\t\t\t\tcase 'text/csv':\n\t\t\t\t\t\treturn new CSV(asset);\n\t\t\t\t\tcase 'text/tab-separated-values':\n\t\t\t\t\t\treturn new TSV(asset);\n\t\t\t\t\tcase 'image/tiff':\n\t\t\t\t\t\treturn new GeoTIFF(asset, stac);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Fallback: Detect by file extension\n\t\t\tif (typeof asset.href === 'string') {\n\t\t\t\tlet extension = asset.href.split(/[#?]/)[0].split('.').pop().trim().toLowerCase();\n\t\t\t\tswitch(extension) {\n\t\t\t\t\tcase 'png':\n\t\t\t\t\tcase 'jpg':\n\t\t\t\t\tcase 'jpeg':\n\t\t\t\t\tcase 'gif':\n\t\t\t\t\tcase 'webp':\n\t\t\t\t\t\treturn new BrowserImage(asset);\n\t\t\t\t\tcase 'json':\n\t\t\t\t\tcase 'geojson':\n\t\t\t\t\t\treturn new JSON_(asset);\n\t\t\t\t\tcase 'txt':\n\t\t\t\t\t\treturn new NativeType(asset);\n\t\t\t\t\tcase 'csv':\n\t\t\t\t\t\treturn new CSV(asset);\n\t\t\t\t\tcase 'tsv':\n\t\t\t\t\t\treturn new TSV(asset);\n\t\t\t\t\tcase 'tif':\n\t\t\t\t\tcase 'tiff':\n\t\t\t\t\t\treturn new GeoTIFF(asset, stac);\n\t\t\t\t}\n\t\t\t}\n\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\n\t\treturn new UnsupportedFormat(asset);\n\t}\n\n}","import Vue from 'vue';\nimport Utils from '../utils';\nimport { Job, Service, UserProcess } from '@openeo/js-client';\nimport { ProcessGraph } from '@openeo/js-processgraphs';\nimport FormatRegistry from '../formats/formatRegistry.js';\nimport StacMigrate from '@radiantearth/stac-migrate';\n\nconst serverStorage = \"serverUrls\";\n\nconst getDefaultState = () => {\n\treturn {\n\t\tappMode: null,\n\t\tstoredServers: JSON.parse(localStorage.getItem(serverStorage) || \"[]\"),\n\t\tcontext: null,\n\t\tprocess: null,\n\t\tdiscoverySearchTerm: '',\n\t\thightestModalZIndex: 1000,\n\t\tepsgCodes: [],\n\t\tinitialProcess: null,\n\t\tinitialNode: null,\n\t\topenWizard: null,\n\t\topenWizardProps: {},\n\t\tcollectionPreview: null,\n\t\tviewerOptions: {},\n\t\tmodelDnD: null,\n\t\tformatRegistry: new FormatRegistry(),\n\t};\n};\n\nexport default {\n\tnamespaced: true,\n\tstate: getDefaultState(),\n\tgetters: {\n\t\thasProcess: state => Utils.isObject(state.process) && Utils.size(state.process) > 0 && Utils.size(state.process.process_graph),\n\t\tgetModelNodeFromDnD: (state, getters, rootState, rootGetters) => () => {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tif (!state.modelDnD) {\n\t\t\t\t\tresolve(null);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst getterFn = () => {\n\t\t\t\t\tswitch(state.modelDnD.type) {\n\t\t\t\t\t\tcase 'collection':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tprocess_id: 'load_collection',\n\t\t\t\t\t\t\t\targuments: rootGetters.collectionDefaults(state.modelDnD.data.id)\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'process':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tprocess_id: state.modelDnD.data.id,\n\t\t\t\t\t\t\t\tnamespace: state.modelDnD.data.namespace,\n\t\t\t\t\t\t\t\targuments: {}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'udf':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tprocess_id: 'run_udf',\n\t\t\t\t\t\t\t\targuments: state.modelDnD.data\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tcase 'fileformat':\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tprocess_id: 'save_result',\n\t\t\t\t\t\t\t\targuments: {format: state.modelDnD.data.name, options: {}}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (state.modelDnD.loading) {\n\t\t\t\t\tlet id = setInterval(() => {\n\t\t\t\t\t\tif (!state.modelDnD || state.modelDnD.loading) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclearInterval(id);\n\t\t\t\t\t\tresolve(getterFn());\n\t\t\t\t\t}, 50);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tresolve(getterFn());\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tactions: {\n\t\tasync loadEpsgCodes(cx) {\n\t\t\tif (cx.state.epsgCodes.length === 0) {\n\t\t\t\tlet res = await import('../assets/epsg-names.json');\n\t\t\t\tcx.commit('epsgCodes', res.default);\n\t\t\t}\n\t\t},\n\t\tasync loadInitialProcess(cx) {\n\t\t\tif (cx.state.process) {\n\t\t\t\treturn; // Process already loaded (usually during a later login)\n\t\t\t}\n\t\t\tif (Utils.isUrl(cx.state.initialProcess)) {\n\t\t\t\tlet response = await Utils.axios().get(cx.state.initialProcess);\n\t\t\t\tif (Utils.isObject(response.data)) {\n\t\t\t\t\tvar pg = new ProcessGraph(response.data);\n\t\t\t\t\tpg.parse();\n\t\t\t\t\tcx.commit('setProcess', response.data);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (typeof cx.state.initialProcess === 'string' && cx.state.initialProcess.length > 0) {\n\t\t\t\tlet [id, namespace] = Utils.extractUDPParams(cx.state.initialProcess);\n\t\t\t\ttry {\n\t\t\t\t\tawait cx.dispatch('loadProcess', {id, namespace}, {root: true});\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.warn(error);\n\t\t\t\t}\n\t\t\t\tcx.commit('setProcess', {\n\t\t\t\t\tprocess_graph: {\n\t\t\t\t\t\t[id]: {\n\t\t\t\t\t\t\tprocess_id: id,\n\t\t\t\t\t\t\tnamespace,\n\t\t\t\t\t\t\targuments: {},\n\t\t\t\t\t\t\tresult: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tasync loadForAppMode(cx) {\n\t\t\tif (!cx.state.appMode) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (cx.state.appMode.resultType !== 'service') {\n\t\t\t\ttry {\n\t\t\t\t\tlet response = await Utils.axios().get(cx.state.appMode.resultUrl);\n\t\t\t\t\tif (Utils.isObject(response.data)) {\n\t\t\t\t\t\tcx.commit('setAppModeData', response.data);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(error);\n\t\t\t\t\tthrow new Error(\"Sorry, the shared data is not available anymore!\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmutations: {\n\t\tsetModelDnD(state, obj = null) {\n\t\t\tstate.modelDnD = obj;\n\t\t},\n\t\tsetDiscoverySearchTerm(state, searchTerm) {\n\t\t\tstate.discoverySearchTerm = typeof searchTerm === 'string' ? searchTerm : '';\n\t\t},\n\t\tsetInitialProcess(state, process) {\n\t\t\tstate.initialProcess = process;\n\t\t},\n\t\tsetInitialNode(state, node) {\n\t\t\tstate.initialNode = node;\n\t\t},\n\t\tsetAppMode(state, appMode) {\n\t\t\tstate.appMode = {\n\t\t\t\t...appMode,\n\t\t\t\ttitle: 'Results',\n\t\t\t\tdata: null,\n\t\t\t\texpires: null\n\t\t\t};\n\t\t},\n\t\tsetAppModeData(state, data) {\n\t\t\tif (data.type) {\n\t\t\t\tdata = StacMigrate.stac(data, false);\n\t\t\t}\n\n\t\t\tVue.set(state.appMode, 'data', data);\n\n\t\t\tlet process, title, expires;\n\t\t\tif (data.type === 'Collection') {\n\t\t\t\tprocess = Utils.getProcessingExpression(data) || Utils.getProcessingExpression(data.summaries);\n\t\t\t\ttitle = data.title;\n\t\t\t\texpires = data.expires;\n\t\t\t}\n\t\t\telse if (data.type === 'Feature') {\n\t\t\t\tprocess = Utils.getProcessingExpression(data.properties);\n\t\t\t\ttitle = data.properties?.title;\n\t\t\t\texpires = data.properties?.expires;\n\t\t\t}\n\t\t\tif (process) {\n\t\t\t\tstate.process = process;\n\t\t\t}\n\t\t\tif (title) {\n\t\t\t\tVue.set(state.appMode, 'title', title);\n\t\t\t\tVue.set(state.appMode, 'expires', expires);\n\t\t\t\tstate.context = title;\n\t\t\t}\n\t\t},\n\t\tsetViewerOptions(state, options) {\n\t\t\tstate.viewerOptions = options || {};\n\t\t},\n\t\tsetOpenWizard(state, {component, options}) {\n\t\t\tstate.openWizard = component;\n\t\t\tif (component) {\n\t\t\t\tstate.openWizardProps = options;\n\t\t\t}\n\t\t},\n\t\tsetCollectionPreview(state, collectionID) {\n\t\t\tstate.collectionPreview = collectionID;\n\t\t\tif (!state.discoverySearchTerm) {\n\t\t\t\tstate.discoverySearchTerm = typeof collectionID === 'string' ? collectionID : '';\n\t\t\t}\n\t\t},\n\t\topenModal(state) {\n\t\t\tstate.hightestModalZIndex = state.hightestModalZIndex + 1;\n\t\t},\n\t\tcloseModal(state) {\n\t\t\tstate.hightestModalZIndex = state.hightestModalZIndex - 1;\n\t\t},\n\t\taddServer(state, url) {\n\t\t\tif (state.storedServers.indexOf(url) === -1) {\n\t\t\t\tstate.storedServers.push(url);\n\t\t\t}\n\t\t\tlocalStorage.setItem(serverStorage, JSON.stringify(state.storedServers));\n\t\t},\n\t\tremoveServer(state, url) {\n\t\t\tstate.storedServers.splice(state.storedServers.indexOf(url), 1);\n\t\t\tlocalStorage.setItem(serverStorage, JSON.stringify(state.storedServers));\n\t\t},\n\t\tsetContext(state, obj) {\n\t\t\tstate.context = obj;\n\t\t\tif (obj instanceof Job || obj instanceof Service) {\n\t\t\t\tstate.process = obj.process;\n\t\t\t}\n\t\t\telse if (obj instanceof UserProcess) {\n\t\t\t\tstate.process = obj.toJSON();\n\t\t\t}\n\t\t\telse if (Utils.isObject(obj) && obj.process) {\n\t\t\t\tstate.process = obj.process;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstate.process = obj;\n\t\t\t}\n\t\t},\n\t\tsetProcess(state, process) {\n\t\t\tstate.process = process;\n\t\t},\n\t\tepsgCodes(state, epsgCodes) {\n\t\t\tstate.epsgCodes = epsgCodes;\n\t\t},\n\t\treset(state) {\n\t\t\tObject.assign(state, getDefaultState());\n\t\t}\n\t}\n};\n","import { UserProcess } from '@openeo/js-client';\nimport { Utils } from '@openeo/js-commons';\nimport Vue from 'vue';\n\nexport default ({namespace, listFn, paginateFn, createFn, updateFn, deleteFn, readFn, readFnById, customizations, primaryKey}) => {\n\tif (!primaryKey) {\n\t\tprimaryKey = 'id';\n\t}\n\tconst getDefaultState = () => {\n\t\treturn {\n\t\t\tpages: null,\n\t\t\thasMore: false,\n\t\t\t[namespace]: [],\n\t\t\tmissing: []\n\t\t};\n\t};\n\tlet definition = {\n\t\tnamespaced: true,\n\t\tstate: getDefaultState(),\n\t\tgetters: {\n\t\t\tsupportsList: (state, getters, rootState, rootGetters) => rootGetters.supports(listFn),\n\t\t\tsupportsCreate: (state, getters, rootState, rootGetters) => rootGetters.supports(createFn),\n\t\t\tsupportsUpdate: (state, getters, rootState, rootGetters) => rootGetters.supports(updateFn),\n\t\t\tsupportsDelete: (state, getters, rootState, rootGetters) => rootGetters.supports(deleteFn),\n\t\t\tsupportsRead: (state, getters, rootState, rootGetters) => rootGetters.supports(readFn),\n\t\t\tgetById: (state) => (id) => {\n\t\t\t\tlet data = state[namespace].find(x => x[primaryKey] === id);\n\t\t\t\treturn typeof data !== 'undefined' ? data : null;\n\t\t\t}\n\t\t},\n\t\tactions: {\n\t\t\tasync create(cx, parameters) {\n\t\t\t\tif (cx.getters.supportsCreate) {\n\t\t\t\t\tlet connection = cx.rootState.connection;\n\t\t\t\t\tlet data = await connection[createFn].apply(connection, parameters);\n\t\t\t\t\tcx.commit('upsert', data);\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error(\"Adding is not supported by the server.\");\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync delete(cx, {data}) {\n\t\t\t\tif (cx.getters.supportsDelete) {\n\t\t\t\t\tawait data[deleteFn]();\n\t\t\t\t\tcx.commit('delete', data);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error(\"Deleting is not supported by the server.\");\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync update(cx, {data, parameters}) {\n\t\t\t\tif (cx.getters.supportsUpdate) {\n\t\t\t\t\tlet updated = await data[updateFn](parameters);\n\t\t\t\t\tcx.commit('upsert', updated);\n\t\t\t\t\treturn updated;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error(\"Updating is not supported by the server.\");\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync read(cx, {data}) {\n\t\t\t\tlet updated = null;\n\t\t\t\tif (!(data instanceof UserProcess)) {\n\t\t\t\t\tlet id = Utils.isObject(data) ? data[primaryKey] : data;\n\t\t\t\t\t// Try to get UserProcess from store\n\t\t\t\t\tdata = cx.getters.getById(id);\n\t\t\t\t\tif (!data) {\n\t\t\t\t\t\t// Try to load UserProcess from Connection\n\t\t\t\t\t\tupdated = await cx.rootState.connection[readFnById](data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!updated) {\n\t\t\t\t\t// Try to update UserProcess\n\t\t\t\t\tupdated = await data[readFn]();\n\t\t\t\t}\n\t\t\t\t// Update or insert, depending on previous state\n\t\t\t\tcx.commit('upsert', updated);\n\t\t\t\treturn updated;\n\t\t\t},\n\t\t\tasync list(cx) {\n\t\t\t\tconst count = cx.state[namespace].length;\n\t\t\t\tif (cx.getters.supportsList) {\n\t\t\t\t\t// Pass over existing data so that it can be updated (for all complete entities, only update fields that exist in the new object)\n\t\t\t\t\t// instead of getting replaced, see https://github.com/Open-EO/openeo-web-editor/issues/234\n\t\t\t\t\tlet pageLimit = Math.max(cx.rootState.pageLimit, count);\n\t\t\t\t\tif (paginateFn) {\n\t\t\t\t\t\tconst pages = cx.rootState.connection[paginateFn](pageLimit, cx.state[namespace]);\n\t\t\t\t\t\tconst data = await pages.nextPage();\n\t\t\t\t\t\tcx.commit('reset'); // Keep close to the update to avoid flickering\n\t\t\t\t\t\tcx.commit('pages', pages);\n\t\t\t\t\t\tcx.commit('data', data);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconst data = await cx.rootState.connection[listFn](cx.state[namespace]);\n\t\t\t\t\t\tcx.commit('reset'); // Keep close to the update to avoid flickering\n\t\t\t\t\t\tcx.commit('data', data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn cx.state[namespace];\n\t\t\t},\n\t\t\tasync nextPage(cx) {\n\t\t\t\tif (!cx.state.pages || !cx.state.hasMore) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcx.commit('data', await cx.state.pages.nextPage());\n\t\t\t\treturn cx.state[namespace];\n\t\t\t}\n\t\t},\n\t\tmutations: {\n\t\t\tdata(state, data) {\n\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\tfor (let d of data) {\n\t\t\t\t\t\tstate[namespace].push(d);\n\t\t\t\t\t}\n\t\t\t\t\tstate.missing = data['federation:missing'];  // yes, accessing a property on an array\n\t\t\t\t}\n\t\t\t\tstate.hasMore = state.pages ? state.pages.hasNextPage() : false;\n\t\t\t},\n\t\t\tpages(state, pages) {\n\t\t\t\tstate.pages = pages;\n\t\t\t},\n\t\t\tupsert(state, data) {\n\t\t\t\tlet id = data[primaryKey];\n\t\t\t\tlet index = state[namespace].findIndex(x => x[primaryKey] === id);\n\t\t\t\tlet observableData = Vue.observable(data);\n\t\t\t\tif (index >= 0) {\n\t\t\t\t\tVue.set(state[namespace], index, observableData);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tstate[namespace].push(observableData);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete(state, data) {\n\t\t\t\tlet id = data[primaryKey];\n\t\t\t\tlet index = state[namespace].findIndex(x => x[primaryKey] === id);\n\t\t\t\tif (index >= 0) {\n\t\t\t\t\tVue.delete(state[namespace], index);\n\t\t\t\t}\n\t\t\t},\n\t\t\treset(state) {\n\t\t\t\tObject.assign(state, getDefaultState());\n\t\t\t}\n\t\t}\n\t};\n\t// Override with custom definitions\n\tfor(let key in customizations) {\n\t\tObject.assign(definition[key], customizations[key]);\n\t}\n\treturn definition;\n};","import storeFactory from './storeFactory';\n\nexport default storeFactory({\n\tnamespace: 'files',\n\tlistFn: 'listFiles',\n\tpaginateFn: 'paginateFiles',\n\tcreateFn: 'uploadFile',\n\tupdateFn: 'uploadFile',\n\tdeleteFn: 'deleteFile',\n\treadFn: 'downloadFile',\n\treadFnById: 'getFile',\n\tprimaryKey: 'path',\n\tcustomizations: {\n\t\tgetters: {\n\t\t},\n\t\tactions: {\n\t\t},\n\t\tmutations: {\n\t\t}\n\t}\n});","import storeFactory from './storeFactory';\n\nexport default storeFactory({\n\tnamespace: 'jobs',\n\tlistFn: 'listJobs',\n\tpaginateFn: 'paginateJobs',\n\tcreateFn: 'createJob',\n\tupdateFn: 'updateJob',\n\tdeleteFn: 'deleteJob',\n\treadFn: 'describeJob',\n\treadFnById: 'getJob',\n\tcustomizations: {\n\t\tgetters: {\n\t\t\tsupportsQueue: (state, getters, rootState, rootGetters) => rootGetters.supports('startJob'),\n\t\t\tsupportsCancel: (state, getters, rootState, rootGetters) => rootGetters.supports('stopJob')\n\t\t},\n\t\tactions: {\n\t\t\tasync queue(cx, {data}) {\n\t\t\t\tif (cx.getters.supportsQueue) {\n\t\t\t\t\tlet updated = await data.startJob();\n\t\t\t\t\tcx.commit('upsert', updated);\n\t\t\t\t\treturn updated;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error(\"Queueing a batch job is not supported by the server.\");\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync cancel(cx, {data}) {\n\t\t\t\tif (cx.getters.supportsCancel) {\n\t\t\t\t\tlet updated = await data.stopJob();\n\t\t\t\t\tcx.commit('upsert', updated);\n\t\t\t\t\treturn updated;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error(\"Canceling a batch job is not supported by the server.\");\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmutations: {\n\t\t}\n\t}\n});","import storeFactory from './storeFactory';\n\nexport default storeFactory({\n\tnamespace: 'services',\n\tlistFn: 'listServices',\n\tpaginateFn: 'paginateServices',\n\tcreateFn: 'createService',\n\tupdateFn: 'updateService',\n\tdeleteFn: 'deleteService',\n\treadFn: 'describeService',\n\treadFnById: 'getService',\n\tcustomizations: {\n\t\tgetters: {\n\t\t},\n\t\tactions: {\n\t\t},\n\t\tmutations: {\n\t\t}\n\t}\n});","import storeFactory from './storeFactory';\nimport Utils from '../utils';\n\nexport default storeFactory({\n\tnamespace: 'userProcesses',\n\tlistFn: 'listUserProcesses',\n\tpaginateFn: null,\n\tcreateFn: 'setUserProcess',\n\tupdateFn: 'replaceUserProcess',\n\tdeleteFn: 'deleteUserProcess',\n\treadFn: 'describeUserProcess',\n\treadFnById: 'getUserProcess',\n\tcustomizations: {\n\t\tgetters: {\n\t\t},\n\t\tactions: {\n\t\t},\n\t\tmutations: {\n\t\t\tdata(state, data) {\n\t\t\t\tstate.userProcesses = data\n\t\t\t\t\t.map(p => Object.assign(p, {namespace: 'user'}))\n\t\t\t\t\t.filter(p => (typeof p.id === 'string'))\n\t\t\t\t\t.sort(Utils.sortById);\n\t\t\t\tstate.missing = data['federation:missing'];\n\t\t\t}\n\t\t}\n\t}\n});","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport { Client, FileTypes, Formula } from '@openeo/js-client';\nimport { ProcessRegistry } from '@openeo/js-commons';\nimport StacMigrate from '@radiantearth/stac-migrate';\nimport Utils from '../utils.js';\nimport ProcessRegistryExtension from '../registryExtension.js';\nimport Config from '../../config';\n// Sub-modules\nimport editor from './editor';\nimport files from './files';\nimport jobs from './jobs';\nimport services from './services';\nimport userProcesses from './userProcesses';\nimport Migrate from '@openeo/js-client/src/ogc/migrate.js';\n\nVue.use(Vuex);\n\nFormula.arrayOperatorMapping = {\n\t'product': '*',\n\t'sum': '+'\n};\nFormula.reverseOperatorMapping = (() => {\n\tconst mapping = {};\n\tfor(const op in Formula.operatorMapping) {\n\t\tmapping[Formula.operatorMapping[op]] = op;\n\t}\n\treturn Object.assign(mapping, Formula.arrayOperatorMapping);\n})();\n\nconst getDefaultState = () => {\n\treturn {\n\t\tconnection: null,\n\t\tactiveRequests: 0,\n\t\tdiscoveryCompleted: false,\n\t\tisAuthenticated: false,\n\t\tuserInfo: {},\n\t\tconnectionError: null,\n\t\tbeforeLogoutListener: {},\n\t\tauthProviders: [],\n\t\tfileFormats: {},\n\t\tserviceTypes: {},\n\t\tudfRuntimes: {},\n\t\tprocessesUpdated: 0,\n\t\tcollections: [],\n\t\tprocessNamespaces: Config.processNamespaces || [],\n\t\tpageLimit: Config.pageLimit,\n\t\tfederationMissing: {\n\t\t\tcollections: [],\n\t\t\tprocesses: [],\n\t\t\tfileFormats: [],\n\t\t},\n\t};\n};\n\nexport default new Vuex.Store({\n//\tstrict: true, // Can't enable, js-client gets mutated externally\n\tmodules: {\n\t\teditor,\n\t\tfiles,\n\t\tjobs,\n\t\tservices,\n\t\tuserProcesses\n\t},\n\tstate: getDefaultState(),\n\tgetters: {\n\t\ttitle: (state) => {\n\t\t\tif (state.connection !== null && state.connection.capabilities() !== null) {\n\t\t\t\tconst title = state.connection.capabilities().title();\n\t\t\t\treturn title ? title : state.connection.getUrl();\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tcapabilities: (state) => state.connection !== null ? state.connection.capabilities() : null,\n\n\t\tsupports: (state) => (feature) => state.connection !== null && state.connection.capabilities() !== null && state.connection.capabilities().hasFeature(feature),\n\t\tisOgcApi: (state) => state.connection !== null && state.connection.capabilities() !== null && state.connection.capabilities().apiType() == 'ogcapi',\n\t\tcurrency: (state) => {\n\t\t\tlet currency = '';\n\t\t\tif (state.connection && state.connection.capabilities().currency() !== null) {\n\t\t\t\tcurrency = state.connection.capabilities().currency();\n\t\t\t}\n\t\t\treturn currency;\n\t\t},\n\t\tfederation: (state) => {\n\t\t\tif (!state.connection) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tconst federation = state.connection.capabilities().listFederation();\n\t\t\tif (federation.length === 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\t// convert array of objects, which each have an `id` property, into an object with those IDs as the keys\n\t\t\t// e.g. [ {id:'f',name:'foo'} ] -> { 'f': {id:'f',name:'foo'} }\n\t\t\treturn federation.reduce((arr, val) => ({ ...arr, [val.id]: val }), {})\n\t\t},\n\t\tisConnected: (state) => state.connection !== null && state.connection.capabilities() !== null,\n\t\tisDiscovered: (state) => state.connection !== null && state.discoveryCompleted,\n\t\tsupportsBilling: (state) => state.connection !== null && state.connection.capabilities().currency() !== null,\n\t\tsupportsBillingPlans: (state) => state.connection !== null && state.connection.capabilities().currency() !== null && state.connection.capabilities().listPlans().length > 0,\n\t\tapiVersion: (state) => state.connection !== null ? state.connection.capabilities().apiVersion() : null,\n\t\tfileFormats: (state) => state.fileFormats instanceof FileTypes ? state.fileFormats.toJSON() : {input: {}, output: {}},\n\t\tcollectionDefaults: (state) => (id) => {\n\t\t\tconst collection = state.collections.find(c => c.id === id);\n\t\t\tif (!Utils.isObject(collection)) {\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tlet spatial_extent = null;\n\t\t\ttry {\n\t\t\t\tspatial_extent = Utils.extentToBBox(collection.extent.spatial.bbox[0]);\n\t\t\t} catch (error) {}\n\n\t\t\tlet temporal_extent = null;\n\t\t\ttry {\n\t\t\t\ttemporal_extent = collection.extent.temporal.interval[0];\n\t\t\t\tif (temporal_extent[0] === null && temporal_extent[1] === null) {\n\t\t\t\t\ttemporal_extent = null;\n\t\t\t\t}\n\t\t\t\telse if (temporal_extent[0] == temporal_extent[1]) {\n\t\t\t\t\ttemporal_extent[1] = null;\n\t\t\t\t}\n\t\t\t} catch (error) {}\n\t\n\t\t\tlet bands = null;\n\t\t\treturn {id, spatial_extent, temporal_extent, bands};\n\t\t},\n\t\tprocesses: (state) => {\n\t\t\tlet registry\n\t\t\tif (state.processesUpdated && state.connection !== null) {\n\t\t\t\tregistry = state.connection.processes;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tregistry = new ProcessRegistry();\n\t\t\t}\n\t\t\treturn Object.assign(registry, ProcessRegistryExtension);\n\t\t},\n\t\tsupportsMath: (state, getters) => {\n\t\t\tif (!state.processesUpdated) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tfor(let i in Formula.operatorMapping) {\n\t\t\t\tlet processId = Formula.operatorMapping[i];\n\t\t\t\tif (!getters.processes.has(processId)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\tactions: {\n\t\tasync connect(cx, url) {\n\t\t\tawait cx.dispatch('logout');\n\n\t\t\t// Connect and request capabilities\n\t\t\tlet connection = null;\n\t\t\ttry {\n\t\t\t\tconnection = await Client.connect(url, {addNamespaceToProcess: true});\n\t\t\t} catch (error) {\n\t\t\t\tif(error.message == 'Network Error' || error.name == 'NetworkError') {\n\t\t\t\t\terror = new Error(\"Server is not available.\");\n\t\t\t\t}\n\t\t\t\tcx.commit('setConnectionError', error);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Request auth provider list\n\t\t\ttry {\n\t\t\t\tconst providers = await connection.listAuthProviders();\n\t\t\t\tcx.commit('authProviders', providers);\n\t\t\t} catch (error) {\n\t\t\t\tcx.commit('setConnectionError', error);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconnection.on('authProviderChanged', async (provider) => {\n\t\t\t\tcx.commit('authenticated', provider !== null);\n\t\t\t\tif (cx.state.discoveryCompleted) {\n\t\t\t\t\tawait cx.dispatch('discover', true);\n\t\t\t\t}\n\t\t\t});\n\t\t\tconnection.on('processesChanged', () => cx.commit('updateProcesses'));\n\n\t\t\t// Only commit the connection change after requesting the auth providers\n\t\t\t// as this indicates that the connection procedure has finished.\n\t\t\tcx.commit('connection', connection);\n\n\t\t\treturn true;\n\t\t},\n\n\t\tasync discover(cx, refresh = false) {\n\t\t\tlet promises = [];\n\t\t\tlet errors = [];\n\t\t\tlet capabilities = cx.state.connection.capabilities();\n\n\t\t\t// Request collections\n\t\t\tif (capabilities.hasFeature('listCollections')) {\n\t\t\t\tpromises.push(cx.state.connection.listCollections()\n\t\t\t\t\t.then(response => cx.commit('collections', response))\n\t\t\t\t\t.catch(error => errors.push(error)));\n\t\t\t}\n\t\t\telse {\n\t\t\t\terrors.push(new Error(\"Collections not supported by the server.\"));\n\t\t\t}\n\n\t\t\tif (!refresh) { // Only load on first discovery, otherwise the JS client already refreshes the data\n\t\t\t\t// Request processes\n\t\t\t\tif (capabilities.hasFeature('listProcesses')) {\n\t\t\t\t\tpromises.push(cx.state.connection.listProcesses()\n\t\t\t\t\t\t.then(data => cx.state.federationMissing.processes = data['federation:missing'])\n\t\t\t\t\t\t.catch(error => errors.push(error)));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\terrors.push(new Error(\"Pre-defined processes not supported by the server.\"));\n\t\t\t\t}\n\n\t\t\t\t// Request processes from namespaces\n\t\t\t\tif (cx.state.processNamespaces.length > 0) {\n\t\t\t\t\tfor(let namespace of cx.state.processNamespaces) {\n\t\t\t\t\t\tpromises.push(cx.state.connection.listProcesses(namespace)\n\t\t\t\t\t\t\t.catch(error => errors.push(error)));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Request custom processes\n\t\t\t\tif (capabilities.hasFeature('listUserProcesses') && cx.state.connection.isAuthenticated()) {\n\t\t\t\t\tpromises.push(cx.dispatch('userProcesses/list')\n\t\t\t\t\t\t.catch(error => errors.push(error)));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Request supported output formats\n\t\t\tif (capabilities.hasFeature('listFileTypes')) {\n\t\t\t\tpromises.push(cx.state.connection.listFileTypes()\n\t\t\t\t\t.then(response => cx.commit('fileFormats', response))\n\t\t\t\t\t.catch(error => errors.push(error)));\n\t\t\t}\n\n\t\t\t// Request supported service types\n\t\t\tif (capabilities.hasFeature('listServiceTypes')) {\n\t\t\t\tpromises.push(cx.state.connection.listServiceTypes()\n\t\t\t\t\t.then(response => cx.commit('serviceTypes', response))\n\t\t\t\t\t.catch(error => errors.push(error)));\n\t\t\t}\n\n\t\t\t// Request supported UDF runtimes\n\t\t\tif (capabilities.hasFeature('listUdfRuntimes')) {\n\t\t\t\tpromises.push(cx.state.connection.listUdfRuntimes()\n\t\t\t\t\t.then(response => cx.commit('udfRuntimes', response))\n\t\t\t\t\t.catch(error => errors.push(error)));\n\t\t\t}\n\n\t\t\t// Request user account information\n\t\t\tconst promise = cx.dispatch('describeAccount')\n\t\t\t\t.catch(error => errors.push(error));\n\t\t\tpromises.push(promise);\n\n\t\t\tawait Promise.all(promises);\n\n\t\t\tif (capabilities.apiType() === 'ogcapi') {\n\t\t\t\tconst lc = require('../assets/load_collection.json');\n\t\t\t\tlc.hide = true;\n\t\t\t\tcx.state.connection.processes.add(lc);\n\t\t\t}\n\n\t\t\t// Request initial process\n\t\t\tif (!refresh) {\n\t\t\t\ttry {\n\t\t\t\t\tawait cx.dispatch('editor/loadInitialProcess');\n\t\t\t\t} catch (error) {\n\t\t\t\t\terrors.push(error);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Request results for app mode\n\t\t\tif (!refresh) {\n\t\t\t\ttry {\n\t\t\t\t\tawait cx.dispatch('editor/loadForAppMode');\n\t\t\t\t} catch (error) {\n\t\t\t\t\terrors.push(error);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcx.commit('discoveryCompleted');\n\t\t\treturn errors;\n\t\t},\n\n\t\t// Request user account info\n\t\tasync describeAccount(cx) {\n\t\t\tif (cx.getters.supports('describeAccount') && cx.state.isAuthenticated) {\n\t\t\t\tconst response = await cx.state.connection.describeAccount();\n\t\t\t\tcx.commit('userInfo', response);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcx.commit('userInfo');\n\t\t\t}\n\t\t},\n\n\t\tasync describeCollection(cx, id) {\n\t\t\tlet collection = cx.state.collections.find(c => c.id === id);\n\t\t\tif (!collection || !collection._loaded) {\n\t\t\t\tcollection = await cx.state.connection.describeCollection(id);\n\t\t\t\tcollection = StacMigrate.collection(collection, false);\n\t\t\t\tcx.commit('fillCollection', collection);\n\t\t\t}\n\t\t\treturn collection;\n\t\t},\n\n\t\tasync loadProcess(cx, {id, namespace}) {\n\t\t\tconst process = cx.getters.processes.get(id, namespace);\n\t\t\tif (!Utils.isObject(process)) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (cx.getters.isOgcApi) {\n\t\t\t\t// OGC API\n\t\t\t\tconst response = await cx.state.connection._get(`/processes/${process.id}`);\n\t\t\t\tcx.state.connection.processes.add(Migrate.process(response.data));\n\t\t\t}\n\t\t\telse if (process.namespace !== 'backend') {\n\t\t\t\tif (process.namespace === 'user') {\n\t\t\t\t\tawait cx.dispatch('userProcesses/read', {data: process});\n\t\t\t\t}\n\t\t\t\telse if (process.namespace && namespace !== 'backend') {\n\t\t\t\t\tawait cx.state.connection.describeProcess(id, process.namespace);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn cx.getters.processes.get(id, namespace);\n\t\t},\n\n\t\tasync beforeLogout(cx) {\n\t\t\tawait Promise.all(Object.values(cx.state.beforeLogoutListener).map(listener => listener()));\n\t\t},\n\n\t\tasync logout(cx, disconnect = false) {\n\t\t\tawait cx.dispatch('beforeLogout');\n\n\t\t\tif (disconnect) {\n\t\t\t\t// Remove listeners, we don't need them anymore if we connect anyway\n\t\t\t\tcx.state.connection.off('authProviderChanged');\n\t\t\t\tcx.state.connection.off('processesChanged');\n\t\t\t}\n\n\t\t\tif (cx.state.isAuthenticated) {\n\t\t\t\t// Logout (mostly for OIDC)\n\t\t\t\tconst authProvider = cx.state.connection.getAuthProvider();\n\t\t\t\tif (authProvider !== null) {\n\t\t\t\t\tawait authProvider.logout();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (disconnect) {\n\t\t\t\t// Reset values\n\t\t\t\tcx.commit('reset', this.isAuthenticated);\n\t\t\t\tcx.commit('jobs/reset');\n\t\t\t\tcx.commit('files/reset');\n\t\t\t\tcx.commit('services/reset');\n\t\t\t\tcx.commit('userProcesses/reset');\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcx.commit('authenticated', false);\n\t\t\t}\n\t\t}\n\t},\n\tmutations: {\n\t\tdiscoveryCompleted(state, completed = true) {\n\t\t\tstate.discoveryCompleted = completed;\n\t\t},\n\t\tconnection(state, connection) {\n\t\t\tstate.connection = connection;\n\t\t},\n\t\tauthProviders(state, authProviders) {\n\t\t\tstate.authProviders = authProviders;\n\t\t},\n\t\tuserInfo(state, info) {\n\t\t\tstate.userInfo = Utils.isObject(info) ? info : {};\n\t\t},\n\t\tfileFormats(state, fileFormats) {\n\t\t\tstate.fileFormats = fileFormats;\n\t\t\tstate.federationMissing.fileFormats = fileFormats['federation:missing'];\n\t\t},\n\t\tserviceTypes(state, serviceTypes) {\n\t\t\t// Make keys uppercase for simplicity\n\t\t\tif (Utils.isObject(serviceTypes)) {\n\t\t\t\tconst obj = {};\n\t\t\t\tfor(const key in serviceTypes) {\n\t\t\t\t\tobj[key.toUpperCase()] = serviceTypes[key];\n\t\t\t\t}\n\t\t\t\tstate.serviceTypes = obj;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tstate.serviceTypes = serviceTypes;\n\t\t\t}\n\t\t},\n\t\tudfRuntimes(state, udfRuntimes) {\n\t\t\tstate.udfRuntimes = udfRuntimes;\n\t\t},\n\t\tupdateProcesses(state) {\n\t\t\tstate.processesUpdated++;\n\t\t},\n\t\taddProcessNamespacesToRequest(state, namespaces) {\n\t\t\tif (typeof namespaces === 'string') {\n\t\t\t\tnamespaces = namespaces.split(',');\n\t\t\t}\n\t\t\tif (!Array.isArray(namespaces)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor(let namespace of namespaces) {\n\t\t\t\tif (namespace && !state.processNamespaces.includes(namespace)) {\n\t\t\t\t\tstate.processNamespaces.push(namespace);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tfillCollection(state, data) {\n\t\t\tlet index = state.collections.findIndex(c => c.id === data.id);\n\t\t\tif (index !== -1) {\n\t\t\t\tdata._loaded = true;\n\t\t\t\tVue.set(state.collections, index, data);\n\t\t\t}\n\t\t},\n\t\tcollections(state, data) {\n\t\t\tstate.collections = data.collections\n\t\t\t\t.map(c => StacMigrate.collection(c, false))\n\t\t\t\t.filter(c => (typeof c.id === 'string'))\n\t\t\t\t.sort(Utils.sortById);\n\t\t\tstate.federationMissing.collections = data['federation:missing'];\n\t\t},\n\t\tsetConnectionError(state, error) {\n\t\t\tstate.connectionError = error;\n\t\t},\n\t\tauthenticated(state, isAuthenticated) {\n\t\t\tstate.isAuthenticated = isAuthenticated;\n\t\t\tif (!isAuthenticated) {\n\t\t\t\tstate.userInfo = {};\n\t\t\t}\n\t\t},\n\t\treset(state, keepConnection = false) {\n\t\t\tObject.assign(state, getDefaultState(), {\n\t\t\t\tconnection: keepConnection ? state.connection : null\n\t\t\t});\n\t\t},\n\t\tstartActiveRequest(state) {\n\t\t\tstate.activeRequests += 1;\n\t\t},\n\t\tendActiveRequest(state) {\n\t\t\tstate.activeRequests -= 1;\n\t\t},\n\t\tbeforeLogoutListener(state, {key, listener}) {\n\t\t\tif (typeof listener === 'function') {\n\t\t\t\tstate.beforeLogoutListener[key] = listener;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tVue.delete(state.beforeLogoutListener, key);\n\t\t\t}\n\t\t},\n\t\tfederationMissing(state, federationMissing) {\n\t\t\tstate.federationMissing = federationMissing;\n\t\t}\n\t}\n});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\",class:{connecting: !_vm.isDiscovered}},[_c('transition',{attrs:{\"name\":\"connect-fade\",\"mode\":\"out-in\"}},[(!_vm.isDiscovered)?_c('ConnectForm',{key:\"1\",attrs:{\"skipLogin\":_vm.skipLogin}}):_c('IDE',{key:\"2\"})],1),_vm._l((_vm.modals),function(modal){return [_c(modal.component,_vm._g(_vm._b({key:modal.id,tag:\"component\",on:{\"closed\":function($event){return _vm.hideModal(modal)}}},'component',modal.props,false),modal.events))]}),_c('vue-snotify'),(_vm.tourType)?_c('Tour',{model:{value:(_vm.tourType),callback:function ($$v) {_vm.tourType=$$v},expression:\"tourType\"}}):_vm._e(),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeRequests > 0),expression:\"activeRequests > 0\"}],attrs:{\"id\":\"activeRequests\"}},[_c('i',{staticClass:\"fas fa-spinner fa-spin fa-2x\"})])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"connectPage\"},[_c('Logo'),_c('div',{staticClass:\"connectContainer\"},[_c('div',{staticClass:\"helpBtn\",attrs:{\"title\":\"Show help\"},on:{\"click\":_vm.showHelp}},[_c('i',{staticClass:\"fas fa-question fa-fw\"}),_vm._v(\" Help\")]),(_vm.httpsUrl)?_c('div',{staticClass:\"message error\"},[_c('i',{staticClass:\"fas fa-shield-alt\"}),_c('span',[_vm._v(\"You are using an \"),_c('strong',[_vm._v(\"insecure\")]),_vm._v(\" HTTP connection, which is not encrypted. Please use HTTPS if possible.\"),_c('br'),_c('a',{attrs:{\"href\":_vm.httpsUrl}},[_vm._v(\"Click here to switch to a secured HTTPS connection.\")])])]):_vm._e(),(_vm.message)?_c('div',{staticClass:\"message warning\"},[_c('i',{staticClass:\"fas fa-bullhorn\"}),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.message)}})]):_vm._e(),_c('transition',{attrs:{\"name\":\"connect-fade\",\"mode\":\"out-in\"},on:{\"before-enter\":_vm.initProviders}},[(_vm.showConnectForm)?_c('form',{staticClass:\"connect\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm.apply(null, arguments)}}},[_c('h3',[_vm._v(\"Connect to server\")]),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"serverUrl\"}},[_vm._v(\"URL:\")]),_c('div',{staticClass:\"input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy.trim\",value:(_vm.serverUrl),expression:\"serverUrl\",modifiers:{\"lazy\":true,\"trim\":true}}],staticClass:\"tour-connect-url\",attrs:{\"type\":\"text\",\"id\":\"serverUrl\",\"disabled\":_vm.autoConnect},domProps:{\"value\":(_vm.serverUrl)},on:{\"change\":function($event){_vm.serverUrl=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),(_vm.allowOtherServers)?_c('button',{staticClass:\"tour-connect-history\",attrs:{\"type\":\"button\",\"title\":\"Select previously used server\"},on:{\"click\":_vm.showServerSelector}},[_c('i',{staticClass:\"fas fa-book\"})]):_vm._e()])]),_c('div',{staticClass:\"row\"},[_c('button',{staticClass:\"connectBtn tour-connect-retry\",class:{loading: _vm.loading},attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"fas fa-spinner fa-spin fa-lg\"}),_vm._v(\" Connect\")])])]):(_vm.showLoginForm)?_c('div',{staticClass:\"login\"},[_c('h3',[_vm._v(\"Log in to \"+_vm._s(_vm.title))]),_c('Tabs',{ref:\"providers\",attrs:{\"id\":\"credentials\",\"pills\":true,\"pillsMultiline\":true},on:{\"selected\":_vm.providerSelected},scopedSlots:_vm._u([{key:\"dynamic\",fn:function({ tab }){return [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.initDiscovery(tab.data)}}},[(tab.data.description)?_c('div',{staticClass:\"row help\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),_c('span',[_vm._v(_vm._s(tab.data.description))])]):_vm._e(),(!_vm.hasPredefinedOidcClientId)?[_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Client ID:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.userOidcClientId),expression:\"userOidcClientId\",modifiers:{\"trim\":true}}],staticClass:\"input\",attrs:{\"type\":\"text\",\"required\":\"required\"},domProps:{\"value\":(_vm.userOidcClientId)},on:{\"input\":function($event){if($event.target.composing)return;_vm.userOidcClientId=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"row help\"},[_c('i',{staticClass:\"fas fa-exclamation-circle\"}),_c('span',[_vm._v(\"You need to specify the \"),_c('em',[_vm._v(\"Client ID\")]),_vm._v(\" provided to you by the provider. You need to allow the \"),_c('a',{attrs:{\"href\":_vm.oidcRedirectUrl,\"target\":\"_blank\",\"title\":_vm.oidcRedirectUrl}},[_vm._v(\"URL of this service\")]),_vm._v(\" as redirect URL with the authentication service.\")])])]:_vm._e(),_c('div',{staticClass:\"row bottom\"},[_c('TermsOfServiceConsent'),_c('div',{staticClass:\"row help\"},[_c('i',{staticClass:\"fas fa-window-restore\"}),_c('span',[_vm._v(\"Clicking the button below may open a new window for login.\")])]),_c('button',{staticClass:\"connectBtn\",class:{loading: _vm.loading},attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"fas fa-spinner fa-spin fa-lg\"}),_c('i',{staticClass:\"fab fa-openid\"}),_vm._v(\" Log in with \"+_vm._s(tab.name))])],1)],2)]}},(_vm.basicProvider)?{key:\"basic\",fn:function({ tab }){return [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.initDiscovery(tab.data)}}},[_c('div',{staticClass:\"row help\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),_c('span',[_vm._v(\"The \"),_c('tt',[_vm._v(\"HTTP Basic\")]),_vm._v(\" authentication method is mostly used for development and testing purposes.\")],1)]),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"Username:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.username),expression:\"username\",modifiers:{\"trim\":true}}],staticClass:\"input\",attrs:{\"id\":\"username\",\"type\":\"text\",\"required\":\"required\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing)return;_vm.username=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"row\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Password:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.password),expression:\"password\",modifiers:{\"trim\":true}}],staticClass:\"input\",attrs:{\"id\":\"password\",\"type\":\"password\",\"required\":\"required\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.password=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"row bottom\"},[_c('TermsOfServiceConsent'),_c('button',{staticClass:\"connectBtn\",class:{loading: _vm.loading},attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"fas fa-spinner fa-spin fa-lg\"}),_vm._v(\" Log in\")])],1)])]}}:null,{key:\"noauth\",fn:function(){return [_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.initDiscovery()}}},[_c('div',{staticClass:\"row help\"},[_c('i',{staticClass:\"fas fa-info-circle\"}),_c('span',[_vm._v(\"Choose this if you don't have credentials for the service provider and just want to explore the service with its available data and processes. You may not be able to process any data.\")])]),_c('div',{staticClass:\"row bottom\"},[_c('TermsOfServiceConsent'),_c('button',{staticClass:\"connectBtn\",class:{loading: _vm.loading},attrs:{\"type\":\"submit\"}},[_c('i',{staticClass:\"fas fa-spinner fa-spin fa-lg\"}),_c('i',{staticClass:\"fas fa-user-slash\"}),_vm._v(\" Proceed without logging in\")])],1)])]},proxy:true}],null,true)}),(_vm.allowOtherServers)?_c('div',{staticClass:\"switch tour-login-switch\"},[_c('a',{on:{\"click\":function($event){return _vm.switchServer()}}},[_vm._v(\"Switch server\")])]):_vm._e()],1):_vm._e()])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.show)?_c('div',{staticClass:\"row help\"},[_c('i',{staticClass:\"fas fa-check-circle\"}),(_vm.terms && _vm.privacy)?_c('span',[_vm._v(\"By clicking the button below, you agree to our \"),_c('a',{attrs:{\"href\":_vm.terms.href,\"title\":_vm.terms.title,\"target\":\"_blank\"}},[_vm._v(\"Terms of Service\")]),_vm._v(\" and that you have read our \"),_c('a',{attrs:{\"href\":_vm.privacy.href,\"title\":_vm.privacy.title,\"target\":\"_blank\"}},[_vm._v(\"Privacy Policy\")]),_vm._v(\".\")]):(_vm.terms)?_c('span',[_vm._v(\"By clicking the button below, you agree to our \"),_c('a',{attrs:{\"href\":_vm.terms.href,\"title\":_vm.terms.title,\"target\":\"_blank\"}},[_vm._v(\"Terms of Service\")]),_vm._v(\".\")]):(_vm.privacy)?_c('span',[_vm._v(\"By clicking the button below, you agree that you have read our \"),_c('a',{attrs:{\"href\":_vm.privacy.href,\"title\":_vm.privacy.title,\"target\":\"_blank\"}},[_vm._v(\"Privacy Policy\")]),_vm._v(\".\")]):_vm._e()]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div v-if=\"show\" class=\"row help\">\n\t\t<i class=\"fas fa-check-circle\"></i>\n\t\t<span v-if=\"terms && privacy\">By clicking the button below, you agree to our <a :href=\"terms.href\" :title=\"terms.title\" target=\"_blank\">Terms of Service</a> and that you have read our <a :href=\"privacy.href\" :title=\"privacy.title\" target=\"_blank\">Privacy Policy</a>.</span>\n\t\t<span v-else-if=\"terms\">By clicking the button below, you agree to our <a :href=\"terms.href\" :title=\"terms.title\" target=\"_blank\">Terms of Service</a>.</span>\n\t\t<span v-else-if=\"privacy\">By clicking the button below, you agree that you have read our <a :href=\"privacy.href\" :title=\"privacy.title\" target=\"_blank\">Privacy Policy</a>.</span>\n\t</div>\n</template>\n\n<script>\nimport Utils from '../utils';\n\nexport default {\n\tname: 'TermsOfServiceConsent',\n\tcomputed: {\n\t\t...Utils.mapGetters(['capabilities']),\n\t\tshow() {\n\t\t\treturn this.terms && this.privacy;\n\t\t},\n\t\tterms() {\n\t\t\treturn this.getLinkForRel('terms-of-service');\n\t\t},\n\t\tprivacy() {\n\t\t\treturn this.getLinkForRel('privacy-policy');\n\t\t}\n\t},\n\tmethods: {\n\t\tgetLinkForRel(rel) {\n\t\t\tlet links = this.capabilities.links().filter(l => l.rel === rel);\n\t\t\tif (links.length > 0) {\n\t\t\t\treturn links[0];\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n}\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TermsOfServiceConsent.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./TermsOfServiceConsent.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./TermsOfServiceConsent.vue?vue&type=template&id=52726e94\"\nimport script from \"./TermsOfServiceConsent.vue?vue&type=script&lang=js\"\nexport * from \"./TermsOfServiceConsent.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"connectPage\">\n\t\t<Logo />\n\t\t<div class=\"connectContainer\">\n\t\t\t<div class=\"helpBtn\" @click=\"showHelp\" title=\"Show help\"><i class=\"fas fa-question fa-fw\"></i> Help</div>\n\t\t\t<div v-if=\"httpsUrl\" class=\"message error\">\n\t\t\t\t<i class=\"fas fa-shield-alt\"></i>\n\t\t\t\t<span>You are using an <strong>insecure</strong> HTTP connection, which is not encrypted. Please use HTTPS if possible.<br />\n\t\t\t\t<a :href=\"httpsUrl\">Click here to switch to a secured HTTPS connection.</a></span>\n\t\t\t</div>\n\t\t\t<div v-if=\"message\" class=\"message warning\">\n\t\t\t\t<i class=\"fas fa-bullhorn\"></i>\n\t\t\t\t<span v-html=\"message\"></span>\n\t\t\t</div>\n\t\t\t<transition name=\"connect-fade\" mode=\"out-in\" @before-enter=\"initProviders\">\n\t\t\t\t<form @submit.prevent=\"submitForm\" v-if=\"showConnectForm\" class=\"connect\">\n\t\t\t\t\t<h3>Connect to server</h3>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"serverUrl\">URL:</label>\n\t\t\t\t\t\t<div class=\"input\">\n\t\t\t\t\t\t\t<input type=\"text\" id=\"serverUrl\" class=\"tour-connect-url\" v-model.lazy.trim=\"serverUrl\" :disabled=\"autoConnect\" />\n\t\t\t\t\t\t\t<button v-if=\"allowOtherServers\" type=\"button\" @click=\"showServerSelector\" title=\"Select previously used server\" class=\"tour-connect-history\"><i class=\"fas fa-book\"></i></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<button type=\"submit\" class=\"connectBtn tour-connect-retry\" :class=\"{loading: loading}\"><i class=\"fas fa-spinner fa-spin fa-lg\"></i> Connect</button>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t\t<div v-else-if=\"showLoginForm\" class=\"login\">\n\t\t\t\t\t<h3>Log in to {{ title }}</h3>\n\t\t\t\t\t<Tabs id=\"credentials\" ref=\"providers\" :pills=\"true\" :pillsMultiline=\"true\" @selected=\"providerSelected\">\n\t\t\t\t\t\t<template #dynamic=\"{ tab }\">\n\t\t\t\t\t\t\t<form @submit.prevent=\"initDiscovery(tab.data)\">\n\t\t\t\t\t\t\t\t<div class=\"row help\" v-if=\"tab.data.description\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-info-circle\"></i>\n\t\t\t\t\t\t\t\t\t<span>{{ tab.data.description }}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<template v-if=\"!hasPredefinedOidcClientId\">\n\t\t\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t\t\t<label for=\"password\">Client ID:</label>\n\t\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"input\" v-model.trim=\"userOidcClientId\" required=\"required\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"row help\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-exclamation-circle\"></i>\n\t\t\t\t\t\t\t\t\t\t<span>You need to specify the <em>Client ID</em> provided to you by the provider. You need to allow the <a :href=\"oidcRedirectUrl\" target=\"_blank\" :title=\"oidcRedirectUrl\">URL of this service</a> as redirect URL with the authentication service.</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<div class=\"row bottom\">\n\t\t\t\t\t\t\t\t\t<TermsOfServiceConsent />\n\t\t\t\t\t\t\t\t\t<div class=\"row help\">\n\t\t\t\t\t\t\t\t\t\t<i class=\"fas fa-window-restore\"></i>\n\t\t\t\t\t\t\t\t\t\t<span>Clicking the button below may open a new window for login.</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"connectBtn\" :class=\"{loading: loading}\"><i class=\"fas fa-spinner fa-spin fa-lg\"></i><i class=\"fab fa-openid\"></i> Log in with {{ tab.name }}</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-if=\"basicProvider\" #basic=\"{ tab }\">\n\t\t\t\t\t\t\t<form @submit.prevent=\"initDiscovery(tab.data)\">\n\t\t\t\t\t\t\t\t<div class=\"row help\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-info-circle\"></i>\n\t\t\t\t\t\t\t\t\t<span>The <tt>HTTP Basic</tt> authentication method is mostly used for development and testing purposes.</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t\t<label for=\"username\">Username:</label>\n\t\t\t\t\t\t\t\t\t<input class=\"input\" id=\"username\" type=\"text\" v-model.trim=\"username\" required=\"required\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t\t\t<label for=\"password\">Password:</label>\n\t\t\t\t\t\t\t\t\t<input class=\"input\" id=\"password\" type=\"password\" v-model.trim=\"password\" required=\"required\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"row bottom\">\n\t\t\t\t\t\t\t\t\t<TermsOfServiceConsent />\n\t\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"connectBtn\" :class=\"{loading: loading}\"><i class=\"fas fa-spinner fa-spin fa-lg\"></i> Log in</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #noauth>\n\t\t\t\t\t\t\t<form @submit.prevent=\"initDiscovery()\">\n\t\t\t\t\t\t\t\t<div class=\"row help\">\n\t\t\t\t\t\t\t\t\t<i class=\"fas fa-info-circle\"></i>\n\t\t\t\t\t\t\t\t\t<span>Choose this if you don't have credentials for the service provider and just want to explore the service with its available data and processes. You may not be able to process any data.</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class=\"row bottom\">\n\t\t\t\t\t\t\t\t\t<TermsOfServiceConsent />\n\t\t\t\t\t\t\t\t\t<button type=\"submit\" class=\"connectBtn\" :class=\"{loading: loading}\"><i class=\"fas fa-spinner fa-spin fa-lg\"></i><i class=\"fas fa-user-slash\"></i> Proceed without logging in</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</Tabs>\n\t\t\t\t\t<div v-if=\"allowOtherServers\" class=\"switch tour-login-switch\"><a @click=\"switchServer()\">Switch server</a></div>\n\t\t\t\t</div>\n\t\t\t</transition>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './EventBusMixin.js';\nimport Logo from './Logo.vue';\nimport Tabs from '@openeo/vue-components/components/Tabs.vue';\nimport Tab from '@openeo/vue-components/components/Tab.vue';\nimport TermsOfServiceConsent from './TermsOfServiceConsent.vue';\nimport Utils from '../utils.js';\nimport { OidcProvider } from '@openeo/js-client';\n\nexport default {\n\tname: 'ConnectForm',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tLogo,\n\t\tTabs,\n\t\tTab,\n\t\tTermsOfServiceConsent\n\t},\n\tprops: {\n\t\tskipLogin: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['connectionError', 'authProviders', 'isAuthenticated']),\n\t\t...Utils.mapGetters(['isConnected', 'isDiscovered', 'title']),\n\t\t...Utils.mapState('editor', ['storedServers']),\n\t\thttpsUrl() {\n\t\t\tif (this.$config.showHttpWarning && !this.isLocalUrl(window.location) && window.location.protocol === 'http:') {\n\t\t\t\treturn window.location.toString()\n\t\t\t\t\t.replace(/^http:/i, 'https:')\n\t\t\t\t\t.replace(/([\\?&]server=http)(:|%3A)/, '$1s$2');\n\t\t\t}\n\t\t\t\n\t\t\treturn null;\n\t\t},\n\t\thasPredefinedOidcClientId() {\n\t\t\tif (this.provider && this.provider.getType() === 'oidc') {\n\t\t\t\treturn Boolean(this.provider.defaultClient || this.$config.oidcClientIds[this.provider.id]);\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\toidcClientId() {\n\t\t\tif (this.provider && this.provider.getType() === 'oidc') {\n\t\t\t\treturn this.userOidcClientId || this.$config.oidcClientIds[this.provider.id] || null;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\toidcProviders() {\n\t\t\treturn this.authProviders.filter(obj => obj.getType() === 'oidc');\n\t\t},\n\t\tbasicProvider() {\n\t\t\treturn this.authProviders.find(obj => obj.getType() === 'basic') || null;\n\t\t},\n\t\tshowConnectForm() {\n\t\t\treturn !this.isConnected || this.skipLogin;\n\t\t},\n\t\tshowLoginForm() {\n\t\t\treturn !this.showConnectForm && !this.isDiscovered && !this.skipLogin;\n\t\t}\n\t},\n\twatch: {\n\t\tshowConnectForm(newVal) {\n\t\t\tif (newVal) {\n\t\t\t\tthis.broadcast('title', 'Connect to server');\n\t\t\t}\n\t\t\tthis.broadcast('stopTour');\n\t\t},\n\t\tshowLoginForm(newVal) {\n\t\t\tif (newVal) {\n\t\t\t\tthis.broadcast('title', 'Log in');\n\t\t\t}\n\t\t\tthis.broadcast('stopTour');\n\t\t}\n\t},\n\tdata() {\n\t\tvar w = 500, h = 500, l = 50, t = 50; // default sizes and positions\n\t\tif (window.screen && window.screen.availWidth > 0 && window.screen.availHeight > 0) {\n\t\t\t// try to use 80% of av. screen width (and height)\n\t\t\tw = Math.max(window.screen.availWidth * 0.8, w);\n\t\t\th = Math.max(window.screen.availHeight * 0.8, h);\n\t\t\tl = window.screen.availWidth * 0.1;\n\t\t\tt = window.screen.availHeight * 0.1;\n\t\t}\n\t\treturn {\n\t\t\tserverUrl: this.$config.serverUrl,\n\t\t\tallowOtherServers: !this.$config.serverUrl,\n\t\t\tautoConnect: false,\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tprovider: null,\n\t\t\tloading: false,\n\t\t\tmessage: this.$config.loginMessage,\n\t\t\tuserOidcClientId: '',\n\t\t\toidcOptions: {\n\t\t\t\tautomaticSilentRenew: true,\n\t\t\t\tpopupWindowFeatures: `location=no,toolbar=no,width=${w},height=${h},left=${l},top=${t}`\n\t\t\t},\n\t\t\toidcRedirectUrl: OidcProvider.redirectUrl\n\t\t};\n\t},\n\tasync created() {\n\t\tvar serverFromQuery = Utils.param('server');\n\t\tif (!this.$config.serverUrl && serverFromQuery) {\n\t\t\tthis.serverUrl = serverFromQuery;\n\t\t}\n\n\t\tif (this.serverUrl) {\n\t\t\tthis.autoConnect = true;\n\t\t}\n\n\t\t// Allow enforcing a re-login with e.g. 'prompt=login' parameter on authentication request.\n\t\t// See https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest\n\t\tlet prompt = Utils.param('oidc~prompt');\n\t\tif (['none', 'login', 'consent', 'select_account'].includes(prompt)) {\n\t\t\tthis.oidcOptions.prompt = prompt;\n\t\t}\n\n\t\t// Do this after the other initial work as the await delays execution and makes mounted run before created sometimes.\n\t\tOidcProvider.uiMethod = 'popup';\n\t\ttry {\n\t\t\tawait OidcProvider.signinCallback();\n\t\t} catch (error) {\n\t\t\tif (error instanceof Error && error.message !== \"No state in response\") {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\twindow.onpopstate = evt => this.historyNavigate(evt);\n\t\twindow.history.replaceState({reset: true, serverUrl: this.serverUrl}, \"\");\n\t\tthis.initProviders();\n\t\tif (this.autoConnect) {\n\t\t\tthis.submitForm();\n\t\t}\n\t},\n\tmethods: {\n\t\t...Utils.mapActions(['connect', 'discover', 'logout']),\n\t\t...Utils.mapMutations(['reset']),\n\t\t...Utils.mapMutations('editor', ['addServer', 'removeServer']),\n\n\t\tisLocalUrl(url) {\n\t\t\treturn Boolean(\n\t\t\t\turl.hostname === 'localhost' ||\n\t\t\t\turl.hostname === '[::1]' ||\n\t\t\t\turl.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n\t\t\t);\n\t\t},\n\n\t\tshowHelp() {\n\t\t\tif (!this.isConnected) {\n\t\t\t\tthis.broadcast('showTour', 'connect');\n\t\t\t} else {\n\t\t\t\tthis.broadcast('showTour', 'login');\n\t\t\t}\n\t\t},\n\n\t\thistoryNavigate(evt) {\n\t\t\tif (!Utils.isObject(evt.state) || evt.state.reset) {\n\t\t\t\tthis.logout(true);\n\t\t\t\tthis.autoConnect = false;\n\t\t\t\tthis.loading = false;\n\t\t\t\tthis.password = '';\n\t\t\t}\n\t\t\tif (Utils.isObject(evt.state)) {\n\t\t\t\tif (evt.state.serverUrl) {\n\t\t\t\t\tthis.serverUrl = evt.state.serverUrl;\n\t\t\t\t}\n\t\t\t\tif (typeof evt.state.autoConnect !== 'undefined') {\n\t\t\t\t\tthis.autoConnect = evt.state.autoConnect;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.autoConnect) {\n\t\t\t\tthis.initConnection(!!evt.state.skipLogin, true);\n\t\t\t}\n\t\t},\n\n\t\tswitchServer() {\n\t\t\twindow.history.pushState({reset: true, serverUrl: this.serverUrl, autoConnect: true}, \"\", this.makeUrl(false));\n\t\t\tthis.serverUrl = null;\n\t\t\tthis.autoConnect = false;\n\t\t\tthis.reset();\n\t\t},\n\n\t\tinitProviders() {\n\t\t\tif (this.$refs.providers && this.$refs.providers.tabs.length === 0) {\n\t\t\t\tthis.addProviders();\n\t\t\t}\n\t\t},\n\t\taddProviders() {\n\t\t\tfor(var provider of this.oidcProviders) {\n\t\t\t\tthis.$refs.providers.addTab(provider.getTitle(), null, provider, provider.getId(), false, false);\n\t\t\t}\n\t\t\tif(this.basicProvider) {\n\t\t\t\tthis.$refs.providers.addTab('Internal', null, this.basicProvider, \"basic\", false, false);\n\t\t\t}\n\t\t\tthis.$refs.providers.addTab('No credentials', null, null, \"noauth\", false, false);\n\t\t\tthis.$nextTick(() => this.$refs.providers.resetActiveTab(true));\n\t\t},\n\n\t\tproviderSelected(tab) {\n\t\t\tthis.provider = tab.data;\n\t\t},\n\n\t\tasync submitForm() {\n\t\t\tif (!this.isConnected) {\n\t\t\t\tawait this.initConnection(this.skipLogin, false);\n\t\t\t}\n\t\t},\n\n\t\tasync initConnection(skipLogin = false, programmatically = false) {\n\t\t\tif (typeof this.serverUrl !== 'string' || !this.serverUrl) {\n\t\t\t\tUtils.error(this, 'Please specify a server.');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet serverUrl = this.serverUrl;\n\t\t\tif (!serverUrl.match(/^https?:\\/\\//i)) {\n\t\t\t\tserverUrl = `https://${serverUrl}`;\n\t\t\t}\n\n\t\t\tif (!Utils.isUrl(serverUrl)) {\n\t\t\t\tUtils.error(this, 'The server given is not a valid URL.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst url = new URL(serverUrl);\n\t\t\tif (window.location.protocol === 'https:' && url.protocol !== 'https:' && !this.isLocalUrl(url)) {\n\t\t\t\tUtils.error(this, 'You are trying to connect to a server with HTTP instead of HTTPS, which is insecure and prohibited by web browsers. Please use HTTPS instead.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.loading = true;\n\t\t\ttry {\n\t\t\t\tif (await this.connect(serverUrl)) {\n\t\t\t\t\tthis.addServer(serverUrl);\n\t\t\t\t\tif (!programmatically) {\n\t\t\t\t\t\twindow.history.pushState({reset: true, serverUrl: this.serverUrl, autoConnect: true, skipLogin}, \"\", this.makeUrl());\n\t\t\t\t\t}\n\t\t\t\t\tif (skipLogin) {\n\t\t\t\t\t\tawait this.initDiscovery();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tUtils.exception(this, this.connectionError);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\n\t\t\tthis.loading = false;\n\t\t\tif (!this.isConnected && this.allowOtherServers) {\n\t\t\t\tthis.autoConnect = false;\n\t\t\t}\n\t\t},\n\n\t\tasync initDiscovery(provider = null) {\n\t\t\tthis.loading = true;\n\t\t\tlet authType = Utils.isObject(provider) && typeof provider.getType() === 'string' ? provider.getType() : null;\n\t\t\ttry {\n\t\t\t\tif (authType === 'basic') {\n\t\t\t\t\tawait provider.login(this.username, this.password);\n\t\t\t\t}\n\t\t\t\telse if (authType === 'oidc') {\n\t\t\t\t\tlet offlineScope = true;\n\t\t\t\t\tif (this.oidcClientId) {\n\t\t\t\t\t\tthis.provider.setClientId(this.oidcClientId);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconst client = provider.detectDefaultClient();\n\t\t\t\t\t\tofflineScope = client && Array.isArray(client.grant_types) && client.grant_types.includes('refresh_token');\n\t\t\t\t\t}\n\t\t\t\t\tawait provider.login(this.oidcOptions, offlineScope);\n\t\t\t\t\tprovider.addListener('AccessTokenExpired', () => Utils.warn(this, \"User session has expired, please login again.\"));\n\t\t\t\t\tprovider.addListener('SilentRenewError', () => Utils.error(this, \"You'll be switching to Guest mode in less than a minute.\", \"Session renewal failed\"));\n\t\t\t\t}\n\t\t\t\telse { // noauth/discovery\n\t\t\t\t\twindow.history.pushState({reset: true, serverUrl: this.serverUrl, autoConnect: true, skipLogin: true}, \"\", this.makeUrl(true, true));\n\t\t\t\t}\n\t\t\t} catch(error) {\n\t\t\t\tif (authType === 'basic') {\n\t\t\t\t\tUtils.error(this, 'Sorry, credentials are wrong.');\n\t\t\t\t}\n\t\t\t\t// Special case: Handle oidc-client-js\n\t\t\t\telse if (authType === 'oidc' && error.name === 'ErrorResponse' && typeof error.error_description === 'string') {\n\t\t\t\t\tUtils.error(this, error.error_description.replace(/\\+/g, ' '));\n\t\t\t\t}\n\t\t\t\telse if (authType === 'oidc' && (error.message == 'Network Error' || error.name == 'NetworkError')) {\n\t\t\t\t\tUtils.error(this, 'Sorry, the authentication server is not available right now.');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tUtils.exception(this, error);\n\t\t\t\t}\n\t\t\t\tthis.loading = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tlet discoveryErrors = await this.discover();\n\t\t\tfor(var error of discoveryErrors) {\n\t\t\t\tUtils.exception(this, error);\n\t\t\t}\n\n\t\t\tthis.loading = false;\n\n\t\t\tif (this.isAuthenticated) {\n\t\t\t\twindow.history.pushState({reset: true, serverUrl: this.serverUrl, autoConnect: true}, \"\", this.makeUrl());\n\t\t\t}\n\t\t},\n\n\t\tmakeUrl(server = true, discover = false) {\n\t\t\tlet params = new URLSearchParams(window.location.search);\n\t\t\tif (server && !this.$config.serverUrl) {\n\t\t\t\tparams.set('server', this.serverUrl);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tparams.delete('server');\n\t\t\t}\n\t\t\tif (discover && !this.$config.skipLogin) {\n\t\t\t\tparams.set('discover', 1);\n\t\t\t}\n\t\t\telse if (!discover && this.$config.skipLogin) {\n\t\t\t\tparams.set('discover', 0);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tparams.delete('discover');\n\t\t\t}\n\t\t\tlet query = params.toString();\n\t\t\tif (query) {\n\t\t\t\treturn `.?${query}`;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn '.';\n\t\t\t}\n\t\t},\n\n\t\tshowServerSelector() {\n\t\t\tthis.broadcast(\n\t\t\t\t\"showListModal\",\n\t\t\t\t\"Select previously used server\",\n\t\t\t\tthis.storedServers,\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\tcallback: url => {\n\t\t\t\t\t\t\tthis.serverUrl = url;\n\t\t\t\t\t\t\treturn true;  // return true to close the modal\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcallback: url => this.removeServer(url),\n\t\t\t\t\t\ticon: 'trash',\n\t\t\t\t\t\ttitle: 'Delete'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@use '../../theme' as *;\n\n.connectPage {\n\tbackground-color: $mainColor;\n\talign-items: center;\n\tjustify-content: center;\n\tdisplay: flex;\n\tflex-direction: column;\n\toverflow: auto;\n\twidth: 100%;\n\theight: 100%;\n}\n.connectPage .logo {\n\tmax-width: 500px;\n\tmargin-bottom: 1rem;\n}\n.connectPage .logo img {\n\tmax-height: 150px;\n}\n.connectContainer {\n\twidth: 500px;\n\tbackground-color: white;\n\tborder: 1px solid black;\n\tborder-radius: 3em;\n\tpadding: 2.5em 3em;\n}\n.connectContainer .helpBtn {\n\tfloat: right;\n\tcursor: pointer;\n\tcolor: $linkColor;\n\tmargin-left: 1rem;\n}\n.connectContainer .helpBtn:hover {\n\tcolor: black;\n}\nheader {\n\ttext-align: center;\n\tmargin-bottom: 2em;\n}\nh3 {\n\tmargin: 0 0 0.75em 0;\n}\n.switch {\n\tfont-size: 0.9em;\n\ttext-align: center;\n\tmargin-top: 0.5em;\n}\n.row {\n\tdisplay: flex;\n\tmargin: 0.25em 0;\n}\nlabel {\n\twidth: 30%;\n\tdisplay: flex;\n\talign-items: center;\n}\n.input {\n\tflex-grow: 1;\n\tdisplay: flex;\n}\n.input input {\n\tflex-grow: 1;\n}\ninput {\n\tpadding: 0.3em;\n}\ninput, button {\n\tmargin: 3px;\n}\n.connectBtn {\n\twidth: 100%;\n\tmargin: 0;\n\tmargin-top: 0.5em;\n\tpadding: 5px 1.33em 5px 0;\n}\n.fa-spinner {\n\tvisibility: hidden;\n}\n.loading .fa-spinner {\n\tvisibility: visible;\n}\n.loading .fa-openid {\n\tdisplay: none;\n}\n.loading .fa-user-slash {\n\tdisplay: none;\n}\n</style>\n\n<style>\n@media only screen and (min-height: 600px) {\n\t#credentials.tabs {\n\t\tmin-height: 250px;\n\t}\n}\n#credentials.tabs .tabsHeader {\n\tmargin-bottom: 0.5em;\n}\n#credentials.tabs {\n\tdisplay: flex;\n}\n#credentials.tabs .tabsBody, #credentials.tabs .tabContent, #credentials.tabs form, #credentials.tabs form > div:last-child  {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n}\n#credentials.tabs form > div {\n\tflex-grow: 1;\n}\n#credentials.tabs form > div.bottom {\n\tjustify-content: flex-end;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ConnectForm.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ConnectForm.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ConnectForm.vue?vue&type=template&id=f8f8f8ea&scoped=true\"\nimport script from \"./ConnectForm.vue?vue&type=script&lang=js\"\nexport * from \"./ConnectForm.vue?vue&type=script&lang=js\"\nimport style0 from \"./ConnectForm.vue?vue&type=style&index=0&id=f8f8f8ea&prod&lang=scss&scoped=true\"\nimport style1 from \"./ConnectForm.vue?vue&type=style&index=1&id=f8f8f8ea&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f8f8f8ea\",\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"container\" :class=\"{connecting: !isDiscovered}\">\n\t\t<transition name=\"connect-fade\" mode=\"out-in\">\n\t\t\t<ConnectForm key=\"1\" v-if=\"!isDiscovered\" :skipLogin=\"skipLogin\" />\n\t\t\t<IDE key=\"2\" v-else />\n\t\t</transition>\n\t\t<template v-for=\"modal in modals\">\n\t\t\t<component :is=\"modal.component\" :key=\"modal.id\" v-bind=\"modal.props\" v-on=\"modal.events\" @closed=\"hideModal(modal)\" />\n\t\t</template>\n\t\t<vue-snotify />\n\t\t<Tour v-if=\"tourType\" v-model=\"tourType\" />\n\t\t<span v-show=\"activeRequests > 0\" id=\"activeRequests\">\n\t\t\t<i class=\"fas fa-spinner fa-spin fa-2x\"></i>\n\t\t</span>\n\t</div>\n</template>\n\n<script>\nimport EventBusMixin from './components/EventBusMixin.js';\nimport Utils from './utils';\nimport ConnectForm from './components/ConnectForm.vue';\nimport \"fontsource-ubuntu/index.css\";\n\nexport default {\n\tname: 'openeo-web-editor',\n\tmixins: [EventBusMixin],\n\tcomponents: {\n\t\tConnectForm,\n\t\tIDE: () => import('./components/IDE.vue'),\n\t\tAddMapDataModal: () => import('./components/modals/AddMapDataModal.vue'),\n\t\tCollectionModal: () => import('./components/modals/CollectionModal.vue'),\n\t\tDataModal: () => import('./components/modals/DataModal.vue'),\n\t\tDownloadAssetsModal: () => import('./components/modals/DownloadAssetsModal.vue'),\n\t\tErrorModal: () => import('./components/modals/ErrorModal.vue'),\n\t\tExportCodeModal: () => import('./components/modals/ExportCodeModal.vue'),\n\t\tExpressionModal: () => import('./components/modals/ExpressionModal.vue'),\n\t\tFileFormatModal: () => import('./components/modals/FileFormatModal.vue'),\n\t\tImportProcessModal: () => import('./components/modals/ImportProcessModal.vue'),\n\t\tJobEstimateModal: () => import('./components/modals/JobEstimateModal.vue'),\n\t\tJobInfoModal: () => import('./components/modals/JobInfoModal.vue'),\n\t\tListModal: () => import('./components/modals/ListModal.vue'),\n\t\tParameterModal: () => import('./components/modals/ParameterModal.vue'),\n\t\tProcessModal: () => import('./components/modals/ProcessModal.vue'),\n\t\tProcessParameterModal: () => import('./components/modals/ProcessParameterModal.vue'),\n\t\tServerInfoModal: () => import('./components/modals/ServerInfoModal.vue'),\n\t\tServiceInfoModal: () => import('./components/modals/ServiceInfoModal.vue'),\n\t\tShareModal: () => import('./components/modals/ShareModal.vue'),\n\t\tTour: () => import('./components/Tour.vue'),\n\t\tUdfRuntimeModal: () => import('./components/modals/UdfRuntimeModal.vue'),\n\t\tWebEditorModal: () => import('./components/modals/WebEditorModal.vue'),\n\t\tWizardModal: () => import('./components/modals/WizardModal.vue')\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmodals: [],\n\t\t\tskipLogin: this.$config.skipLogin,\n\t\t\ttourType: null,\n\t\t\ttitle: null\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.addProcessNamespacesToRequest(Utils.param('namespaces'));\n\t\tthis.setInitialProcess(Utils.param('process'));\n\t\tthis.setInitialNode(Utils.param('edit-node'));\n\t\tthis.setOpenWizard({\n\t\t\tcomponent: Utils.param('wizard'),\n\t\t\toptions: Utils.paramsForPrefix('wizard')\n\t\t});\n\t\tthis.setCollectionPreview(Utils.param('preview-collection'));\n\n\t\tconst resultUrl = Utils.param('result');\n\t\tlet resultType = 'job';\n\t\tif (Utils.param('app~service')) {\n\t\t\tresultType = 'service';\n\t\t}\n\t\tif (resultUrl) {\n\t\t\tthis.setAppMode({\n\t\t\t\tresultUrl,\n\t\t\t\tresultType,\n\t\t\t\t...Utils.paramsForPrefix('app')\n\t\t\t});\n\t\t}\n\n\t\tconst discover = Utils.param('discover');\n\t\tif (discover === \"1\" || resultUrl) {\n\t\t\tthis.skipLogin = true;\n\t\t}\n\t\telse if (discover === \"0\") {\n\t\t\tthis.skipLogin = false;\n\t\t}\n\n\t\tconst axios = Utils.axios();\n\t\t// Count active requests\n\t\taxios.interceptors.request.use(config => {\n\t\t\tthis.startActiveRequest();\n\t\t\treturn config;\n\t\t});\n\t\t// Add a response interceptor\n\t\taxios.interceptors.response.use(response => {\n\t\t\tthis.endActiveRequest();\n\t\t\treturn response;\n\t\t}, error => {\n\t\t\tthis.endActiveRequest();\n\t\t\treturn Promise.reject(error);\n\t\t});\n\t},\n\tmounted() {\n\t\tthis.listen('showError', this.showError);\n\t\tthis.listen('showDataModal', this.showData);\n\t\tthis.listen('showModal', this.showModal);\n\t\tthis.listen('showListModal', this.showListModal);\n\t\tthis.listen('showCollection', this.showCollection);\n\t\tthis.listen('showProcess', this.showProcess);\n\t\tthis.listen('showProcessParameter', this.showProcessParameter);\n\t\tthis.listen('showWebEditorInfo', this.showWebEditorInfo);\n\t\tthis.listen('title', this.setTitle);\n\t\tthis.listen('showTour', where => this.tourType = where);\n\t\tthis.listen('stopTour', this.stopTour);\n\t},\n\twatch: {\n\t\tisDiscovered(newVal) {\n\t\t\tif (newVal) {\n\t\t\t\tthis.skipLogin = false;\n\t\t\t}\n\t\t\tthis.stopTour();\n\t\t},\n\t\ttitle(newTitle) {\n\t\t\tdocument.title = newTitle;\n\t\t}\n\t},\n\tcomputed: {\n\t\t...Utils.mapState(['activeRequests']),\n\t\t...Utils.mapGetters(['isDiscovered']),\n\t\t...Utils.mapState('editor', ['hightestModalZIndex']),\n\t},\n\tmethods: {\n\t\t...Utils.mapActions(['describeAccount', 'describeCollection', 'loadProcess']),\n\t\t...Utils.mapMutations(['startActiveRequest', 'endActiveRequest', 'addProcessNamespacesToRequest']),\n\t\t...Utils.mapMutations('editor', ['setInitialProcess', 'setInitialNode', 'setOpenWizard', 'setAppMode', 'setCollectionPreview']),\n\t\tsetTitle(subtitle) {\n\t\t\tvar title = `${this.$config.serviceName} ${this.$config.appName}`;\n\t\t\tif (subtitle) {\n\t\t\t\ttitle += \": \" + subtitle;\n\t\t\t}\n\t\t\tthis.title = title;\n\t\t},\n\t\tstopTour() {\n\t\t\tthis.tourType = null;\n\t\t},\n\t\tshowModal(component, props = {}, events = {}, id = null) {\n\t\t\tthis.modals.push({\n\t\t\t\tcomponent,\n\t\t\t\tprops,\n\t\t\t\tevents,\n\t\t\t\tid: id || \"modal_\" + Date.now()\n\t\t\t});\n\t\t\tthis.stopTour();\n\t\t},\n\t\thideModal(modal) {\n\t\t\tlet id = Utils.isObject(modal) ? modal.id : modal;\n\t\t\tlet index = this.modals.findIndex(other => other.id === id);\n\t\t\tif (typeof index !== 'undefined') {\n\t\t\t\tthis.modals.splice(index, 1);\n\t\t\t\tthis.stopTour();\n\t\t\t}\n\t\t},\n\t\tshowListModal(title, list, listActions) {\n\t\t\tthis.showModal('ListModal', {title, list, listActions});\n\t\t},\n\t\tshowWebEditorInfo() {\n\t\t\tthis.showModal('WebEditorModal');\n\t\t},\n\t\tshowError(error) {\n\t\t\tthis.showModal('ErrorModal', {error});\n\t\t},\n\t\tasync showCollection(id) {\n\t\t\ttry {\n\t\t\t\tlet collection = await this.describeCollection(id);\n\t\t\t\tthis.showModal('CollectionModal', {collection});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t\tUtils.error(this, \"Sorry, can't load collection details for '\" + id + \"'.\");\n\t\t\t}\n\t\t},\n\t\tasync showProcess(process) {\n\t\t\ttry {\n\t\t\t\tthis.showModal('ProcessModal', {\n\t\t\t\t\tprocess: await this.loadProcess(process)\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t\tUtils.error(this, \"Sorry, can't load process details.\");\n\t\t\t}\n\t\t},\n\t\tasync showData(data, title) {\n\t\t\tthis.showModal('DataModal', {data, title});\n\t\t},\n\t\tshowProcessParameter(parameter, origin) {\n\t\t\tthis.showModal('ProcessParameterModal', {parameter, origin});\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\">\n@use '../theme' as *;\n\nhtml, body, .container {\n\theight: 100%;\n\toverflow: hidden;\n}\n\nbody, input, textarea, button, select, datalist {\n\tfont-family: 'Ubuntu', sans-serif;\n}\nbody {\n\tmargin: 0;\n}\na {\n\tcolor: $linkColor;\n\ttext-decoration: none;\n\tcursor: pointer;\n}\na:hover {\n\tcolor: black;\n}\nul, ol {\n\tmargin-bottom: 0;\n\tmargin-top: 0;\n\tpadding-bottom: 0;\n\tpadding-top: 0;\n}\n\nbutton, input[type=\"submit\"], input[type=\"reset\"] {\n\tmargin: 1px;\n    background-color: #eee;\n}\ninput, textarea, select, datalist, button {\n\tborder: 1px solid #aaa;\n\tborder-radius: 2px;\n\tpadding: 2px 6px;\n}\ninput:hover, textarea:hover, select:hover, datalist:hover, button:hover {\n\tborder-color: #000;\n}\ninput:hover:disabled, textarea:hover:disabled, select:hover:disabled, datalist:hover:disabled, button:hover:disabled {\n\tborder-color: #aaa;\n}\nbutton:focus, input:focus, textarea:focus, select:focus, datalist:focus, .multiselect:focus-within {\n    outline: none;\n    box-shadow: 0 0 3px rgba(22, 102, 182, 0.75);\n}\n.multiselect input:focus {\n\tbox-shadow: 0 0 0;\n}\nbutton:disabled i {\n\tcolor: #aaa;\n}\n\n.sepr {\n    margin-right: 0.5em;\n}\n.sepl {\n    margin-left: 0.5em;\n}\n\n.boolean .fa-check-circle {\n\tcolor: green;\n}\n.boolean .fa-times-circle {\n\tcolor: red;\n}\n.boolean .fa-question-circle {\n\tcolor: #555;\n}\n\ntt, .vue-component.styled-description code, p code {\n\tcolor: maroon;\n\tdisplay: inline-block;\n\tpadding: 0 0.1em 0 0.3em;\n}\n\nkbd {\n\tmargin: 0px 0.1em;\n\tpadding: 0.2em 0.6em 0.1em 0.6em;\n\tborder-radius: 3px;\n\tborder: 1px solid rgb(204, 204, 204);\n\tcolor: rgb(51, 51, 51);\n\tline-height: 1.33em;\n\tfont-size: 0.9em;\n\tdisplay: inline-block;\n\tbox-shadow: 0px 1px 0px rgba(0,0,0,0.2), inset 0px 0px 0px 2px #ffffff;\n\tbackground-color: rgb(247, 247, 247);\n\ttext-shadow: 0 1px 0 #fff;\n}\n\n#activeRequests {\n\tdisplay: inline-block;\n\twidth: 2em;\n\theight: 2em;\n\tpadding: 0.5em;\n\tposition: absolute;\n\tleft: 1rem;\n\tbottom: 1rem;\n\tbackground-color: rgba(255, 255, 255, 0.5);\n\tborder-radius: 2em;\n\tz-index: 9999;\n}\n.connecting #activeRequests {\n\tcolor: white;\n\tbackground-color: rgba(0, 0, 0, 0.5);\n}\n\n.vue-component h2 {\n\tfont-size: 1.75em;\n\tpadding: 0.25em 0 0.25em 0;\n\tmargin: 0 0 0.75em 0;\n\tborder-bottom: 1px solid #ccc;\n}\n.vue-component h3 {\n\tfont-size: 1.4em;\n\tmargin: 1.5em 0 0.75em 0;\n\tpadding: 0.25em 0 0.25em 0;\n\tborder-bottom: 1px dotted #ccc;\n}\n.vue-component h4 {\n\tfont-size: 1.2em;\n}\n.vue-component .tabular {\n\tmargin: 0.5em 0;\n}\n.vue-component .tabular .value ul {\n\tpadding-left: 20px;\n}\n\n.container {\n\twidth: 100%;\n\theight: 100%;\n}\n.container .snotifyToast__title {\n\tfont-size: 1em;\n\tfont-weight: bold;\n}\n.container .snotifyToast__body {\n\tfont-size: 0.9em;\n}\n\np.aboutPage {\n\tline-height: 1.33em;\n\ttext-align: justify;\n\tmargin-top: 0;\n}\nh3.aboutPage {\n\tmargin-bottom: 0.5em;\n}\n\n.no-data, .log-empty {\n\ttext-align: center;\n\tmargin: 1em;\n\tfont-weight: bold;\n}\n\n.help, .message {\n\tdisplay: flex;\n\n\tspan {\n\t\tdisplay: block;\n\t\tflex-grow: 1;\n\t}\n\t.fas {\n\t\tdisplay: block;\n\t\theight: 100%;\n\t\tmargin-right: 0.5em;\n\t\tmargin-top: 1px;\n\t}\n\n\t&.info {\n\t\tborder: 1px solid #aaa;\n\t\tbackground-color: #eee;\n\t\tcolor: #555;\n\t}\n\t&.warning {\n\t\tborder: 1px solid #f9d67a;\n\t\tbackground-color: #fbeabc;\n\t\tcolor: #795600;\n\t}\n\t&.error {\n\t\tborder: 1px solid #f97a7a;\n\t\tbackground-color: #fbbcbc;\n\t\tcolor: #790000;\n\t}\n}\n.message {\n\tpadding: 0.5em;\n\tmargin-bottom: 1em;\n\tborder-radius: 0.5em;\n}\n.help {\n\tmargin: 0.75em 0.5em;\n}\n.help span {\n\tfont-size: 0.9em;\n}\n\n/* Transition */\n.connect-fade-enter-active, .connect-fade-leave-active {\n  transition: opacity .3s ease;\n}\n.connect-fade-enter, .connect-fade-leave-to {\n  opacity: 0;\n}\n\n/* General editor styling */\n.sourceHeader {\n\tpadding: 5px;\n\tborder-bottom: 1px solid #ddd;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tbackground-color: #fff;\n\n\tstrong {\n\t\tdisplay: block;\n\t\tmargin: auto 0;\n\t\tflex-grow: 1;\n\t}\n}\n.sourceToolbar {\n\ttext-align: right;\n}\n.tabContent > .textEditor {\n\tborder: 0 !important;\n}\n</style>","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=61c39bc4\"\nimport script from \"./Page.vue?vue&type=script&lang=js\"\nexport * from \"./Page.vue?vue&type=script&lang=js\"\nimport style0 from \"./Page.vue?vue&type=style&index=0&id=61c39bc4&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n\n}","import Vue from 'vue';\nimport Snotify from 'vue-snotify';\nimport 'vue-snotify/styles/simple.css';\nimport store from './store/index';\nimport Config from '../config';\nimport Page from './Page.vue';\nimport filters from './filters';\nimport Clipboard from 'v-clipboard';\n\nVue.use(Snotify);\nVue.use(Clipboard);\n\n// Don't show too many repetitive error messages\nVue.prototype.$snotify.singleError = function () {\n\tlet message = arguments[0];\n\tif (message !== this.lastMessage) {\n\t\tthis.lastMessage = message;\n\t\tthis.error(...arguments);\n\t\tsetTimeout(() => this.lastMessage = null, 1000);\n\t}\n};\n\nVue.config.productionTip = false;\nVue.config.errorHandler = function (err, vm, info) {\n\tconsole.error(err, info);\n\tif (!vm || !vm.$snotify) {\n\t\treturn;\n\t}\n\n\tlet message;\n\tif (err instanceof Error) {\n\t\tmessage = err.message;\n\t}\n\telse if (typeof err === 'string') {\n\t\tmessage = err;\n\t}\n\n\tif (message) {\n\t\tvm.$snotify.singleError(message, 'Error', Config.snotifyDefaults);\n\t}\n};\nVue.prototype.$config = Config;\n\nfor(var name in filters) {\n\tVue.filter(name, filters[name]);\n}\n\nconst app = new Vue({\n\tstore,\n\trender: h => h(Page)\n}).$mount('#app');\n\nwindow.addEventListener(\"unhandledrejection\", function(event) {\n\tconsole.warn(event);\n\tif (typeof event.reason === 'String' || event.reason instanceof Error) {\n\t\tapp.$snotify.singleError(event.reason, 'Error', Config.snotifyDefaults);\n\t}\n\tevent.preventDefault();\n\tevent.stopPropagation();\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"88\":\"09bc38eb\",\"241\":\"8070234e\",\"390\":\"dcc21da5\",\"424\":\"7181dfa3\",\"600\":\"85bf0bc1\",\"631\":\"14f40c49\",\"768\":\"09e3ca6a\",\"897\":\"961eae87\",\"979\":\"ceb2a8b4\",\"1030\":\"99d10247\",\"1160\":\"e51f410c\",\"1189\":\"344ac366\",\"1202\":\"5460cab4\",\"1203\":\"50315b0e\",\"1237\":\"71bb157e\",\"1323\":\"601a8802\",\"1358\":\"29dba476\",\"1485\":\"95e1c249\",\"1646\":\"bb694863\",\"1715\":\"d5d2f33b\",\"1763\":\"4bda3671\",\"1765\":\"a3f07de4\",\"1857\":\"a9945a34\",\"2053\":\"6eb1b68d\",\"2195\":\"a2fb4312\",\"2263\":\"2c665ee5\",\"2365\":\"cd10c23a\",\"2388\":\"74f04439\",\"2437\":\"81e280d3\",\"2559\":\"23111f35\",\"2764\":\"5ef09254\",\"2855\":\"9e98affa\",\"2860\":\"4359bcea\",\"2898\":\"1bcf7c86\",\"2919\":\"1754170a\",\"3165\":\"b88f583a\",\"3221\":\"7e94843c\",\"3291\":\"ed299200\",\"3298\":\"77d2e105\",\"3383\":\"4e28119a\",\"3549\":\"47ca8911\",\"3592\":\"6bef5dfc\",\"3800\":\"d0c58743\",\"3876\":\"0a839477\",\"4011\":\"4c29f82f\",\"4016\":\"382c905c\",\"4054\":\"dc3bc1f3\",\"4096\":\"98b63995\",\"4238\":\"16dbf24b\",\"4285\":\"3bc071cb\",\"4375\":\"ecee3b13\",\"4394\":\"090aa3d9\",\"4432\":\"cb15b106\",\"4477\":\"c0817e55\",\"4480\":\"4cf5c013\",\"4583\":\"e1348155\",\"4625\":\"d3d62845\",\"4638\":\"9cef2270\",\"4818\":\"cce174dc\",\"5121\":\"194eaf90\",\"5134\":\"79486c47\",\"5145\":\"cf7ccd12\",\"5228\":\"cb785c7d\",\"5237\":\"77eb8a88\",\"5262\":\"04643161\",\"5269\":\"bac2be11\",\"5278\":\"f03f205c\",\"5350\":\"686987ba\",\"5624\":\"7cd2b1c3\",\"5640\":\"be796ccf\",\"5703\":\"5a19b172\",\"5719\":\"44708c0e\",\"5740\":\"8bd1b3fe\",\"5742\":\"89062d90\",\"5813\":\"1e1b9a8e\",\"5889\":\"ec0aa180\",\"5983\":\"89ccf329\",\"6036\":\"afac5500\",\"6191\":\"52141c81\",\"6280\":\"c8ad8232\",\"6333\":\"b1fe16fc\",\"6457\":\"55606bbf\",\"6526\":\"0dc2f624\",\"6568\":\"25a04114\",\"6594\":\"1b3bb1cb\",\"6617\":\"6a7b64b8\",\"6689\":\"9c2f59dd\",\"6709\":\"20c40515\",\"6720\":\"3707c7b7\",\"6814\":\"f21acea0\",\"6846\":\"45cc6a56\",\"6885\":\"6a4e9f39\",\"7186\":\"a073ddb3\",\"7237\":\"a82249e0\",\"7296\":\"d6501dad\",\"7319\":\"dd7cb216\",\"7349\":\"cccdc1f7\",\"7716\":\"0b2c3440\",\"7745\":\"972fb58d\",\"8080\":\"65fac966\",\"8084\":\"dba600be\",\"8127\":\"b26a18f3\",\"8141\":\"b2e8418c\",\"8152\":\"db92baa4\",\"8194\":\"6fa2889f\",\"8352\":\"84606a06\",\"8354\":\"0b9178e0\",\"8370\":\"62e56a2f\",\"8396\":\"308d6723\",\"8432\":\"959c118d\",\"8473\":\"73258e72\",\"8633\":\"c7b6cea8\",\"8936\":\"0528d325\",\"9066\":\"1993935d\",\"9201\":\"3257b627\",\"9237\":\"8ef45db7\",\"9238\":\"91638688\",\"9403\":\"1f06a63f\",\"9408\":\"ff3d8d0a\",\"9546\":\"4e303ed9\",\"9559\":\"a220d758\",\"9569\":\"ee88bb20\",\"9580\":\"a4e17b0a\",\"9671\":\"a15828fa\",\"9882\":\"7173036f\",\"9909\":\"5b1eaa2c\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"88\":\"43c447c3\",\"241\":\"0f24565d\",\"631\":\"3532f099\",\"768\":\"9a253916\",\"897\":\"7ab48f8b\",\"1202\":\"3b9411cc\",\"1203\":\"1291b8f6\",\"1485\":\"8dc572c8\",\"1646\":\"c79bec45\",\"1715\":\"a22f3053\",\"1763\":\"bb165d6b\",\"1765\":\"f114d904\",\"1857\":\"48f88ab7\",\"2053\":\"5d83f7f2\",\"2388\":\"e5740f32\",\"2429\":\"5e953040\",\"2437\":\"b1500b27\",\"2722\":\"13fcb001\",\"2855\":\"9be81686\",\"2860\":\"c4731012\",\"2898\":\"bef872b5\",\"3165\":\"cedc5992\",\"3221\":\"f95f7dcc\",\"3298\":\"3b29feaa\",\"3383\":\"fb24ceba\",\"3549\":\"a1ec7ab5\",\"3592\":\"2a21fdfd\",\"4016\":\"209ecd26\",\"4096\":\"a22f3053\",\"4238\":\"48f88ab7\",\"4285\":\"b812a1c3\",\"4375\":\"541818b5\",\"4480\":\"43969cb2\",\"4583\":\"788ebcdc\",\"4741\":\"f6d430d3\",\"4818\":\"b1500b27\",\"5134\":\"4f91105e\",\"5145\":\"91b4f78e\",\"5228\":\"6d0d822e\",\"5269\":\"6790ec5f\",\"5278\":\"42de5cf6\",\"5350\":\"6d1bdf91\",\"5703\":\"ee56a981\",\"5740\":\"1490740e\",\"5742\":\"d62d95a4\",\"5813\":\"281aa3b1\",\"5889\":\"8c50ed56\",\"6036\":\"91b4f78e\",\"6280\":\"2968992f\",\"6333\":\"9af3c50a\",\"6526\":\"9c519469\",\"6594\":\"52a80b17\",\"6689\":\"b4a63b64\",\"6709\":\"81eb8d66\",\"6720\":\"c792bb6a\",\"6814\":\"5a62ca01\",\"6846\":\"18abf500\",\"7186\":\"1abe4ef8\",\"7296\":\"dd741b46\",\"7319\":\"052469b3\",\"7716\":\"67f0039a\",\"7745\":\"fb24ceba\",\"8080\":\"f6d430d3\",\"8084\":\"ee56a981\",\"8127\":\"bb165d6b\",\"8141\":\"32709590\",\"8152\":\"bd932de5\",\"8194\":\"f5601ccf\",\"8352\":\"bb165d6b\",\"8354\":\"8f8ad761\",\"8370\":\"a797df1c\",\"8396\":\"a5e993af\",\"8432\":\"e0325e43\",\"8473\":\"e65bf52b\",\"8633\":\"2ec61a94\",\"8936\":\"bada8ddd\",\"9066\":\"91b4f78e\",\"9201\":\"19b52578\",\"9238\":\"fb24ceba\",\"9403\":\"c7b284b4\",\"9408\":\"6244371c\",\"9569\":\"6903af55\",\"9580\":\"db2fc0c0\",\"9671\":\"5d0a5b33\",\"9909\":\"a8f318bf\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"@openeo/web-editor:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/processing-editor/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = (chunkId, fullhref, oldTag, resolve, reject) => {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tif (__webpack_require__.nc) {\n\t\tlinkTag.nonce = __webpack_require__.nc;\n\t}\n\tvar onLinkComplete = (event) => {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && event.type;\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + errorType + \": \" + realHref + \")\");\n\t\t\terr.name = \"ChunkLoadError\";\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = (href, fullhref) => {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = (chunkId) => {\n\treturn new Promise((resolve, reject) => {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t3524: 0\n};\n\n__webpack_require__.f.miniCss = (chunkId, promises) => {\n\tvar cssChunks = {\"88\":1,\"241\":1,\"631\":1,\"768\":1,\"897\":1,\"1202\":1,\"1203\":1,\"1485\":1,\"1646\":1,\"1715\":1,\"1763\":1,\"1765\":1,\"1857\":1,\"2053\":1,\"2388\":1,\"2429\":1,\"2437\":1,\"2722\":1,\"2855\":1,\"2860\":1,\"2898\":1,\"3165\":1,\"3221\":1,\"3298\":1,\"3383\":1,\"3549\":1,\"3592\":1,\"4016\":1,\"4096\":1,\"4238\":1,\"4285\":1,\"4375\":1,\"4480\":1,\"4583\":1,\"4741\":1,\"4818\":1,\"5134\":1,\"5145\":1,\"5228\":1,\"5269\":1,\"5278\":1,\"5350\":1,\"5703\":1,\"5740\":1,\"5742\":1,\"5813\":1,\"5889\":1,\"6036\":1,\"6280\":1,\"6333\":1,\"6526\":1,\"6594\":1,\"6689\":1,\"6709\":1,\"6720\":1,\"6814\":1,\"6846\":1,\"7186\":1,\"7296\":1,\"7319\":1,\"7716\":1,\"7745\":1,\"8080\":1,\"8084\":1,\"8127\":1,\"8141\":1,\"8152\":1,\"8194\":1,\"8352\":1,\"8354\":1,\"8370\":1,\"8396\":1,\"8432\":1,\"8473\":1,\"8633\":1,\"8936\":1,\"9066\":1,\"9201\":1,\"9238\":1,\"9403\":1,\"9408\":1,\"9569\":1,\"9580\":1,\"9671\":1,\"9909\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(() => {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, (e) => {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr\n\n// no prefetching\n\n// no preloaded","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t3524: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(!/^(2429|2722|4741)$/.test(chunkId)) {\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunk_openeo_web_editor\"] = globalThis[\"webpackChunk_openeo_web_editor\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [6905,3684,2475,45,950,2660,4881,7900,6296,7274,1834,6337,9456,6937,7256,6964], () => (__webpack_require__(92463)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["JSON_TYPES","Utils","VueUtils","getLink","stac","rel","types","Array","isArray","links","find","link","includes","type","axios","Client","Environment","saveToFile","content","filename","getPreviewLinkFromSTAC","isObject","Config","supportedMapServices","toLowerCase","isMapServiceSupported","mapType","parseNodata","value","map","nodata","Number","NaN","isActiveJobStatusCode","status","exception","vm","error","alt","console","buttons","title","message","code","push","text","action","$root","$emit","toast","success","$clipboard","button","config","btn","typeDefaults","$snotify","singleError","Object","assign","$config","snotifyDefaults","warn","warning","info","ok","confirm","isChildOfModal","that","$parent","$options","name","getFileNameFromURL","url","substring","indexOf","length","lastIndexOf","makeFileName","ext","mime","contentType","split","replaceParam","paramName","paramValue","urlObj","URL","query","URLSearchParams","search","set","toString","paramsForPrefix","prefix","sep","urlParams","window","location","params","key","startsWith","param","has","get","isBboxInWebMercator","bboxes","maxBounds","south","north","bbox","extentToBBox","extent","hasZ","obj","west","east","base","height","sortById","a","b","compareStringCaseInsensitive","id","range","start","end","from","_","i","newArray","defaultValue","fitArray","arr","concat","slice","sortByPath","l","Math","max","toUpperCase","getUniqueId","random","substr","formatIdOrTitle","getResourceTitle","showType","isObj","UserProcess","UserFile","path","stac_version","String","Job","Service","resolveJsonRefs","schema","resolver","$ref","match","parts","result","propertyName","shift","extractUDPParams","process","pos","undefined","namespace","getProcessingExpression","format","expression","confirmOpenAll","files","mapState","mapGetters","mapMutations","mapActions","Format","constructor","asset","this","context","setContext","getContext","getUrl","href","canGroup","isBinary","download","tempLink","document","createElement","style","display","setAttribute","body","appendChild","click","removeChild","loadData","connection","loaded","data","fetchData","getData","Error","withAuth","auth","apiUrl","requestUrl","origin","blob","response","fetch","options","headers","_getAuthHeaders","promise","Promise","resolve","reject","reader","FileReader","onload","event","target","onerror","readAsBinaryString","readAsText","parseData","SupportedFormat","component","icon","props","events","super","UnsupportedFormat","render","_vm","_c","_self","staticClass","logo","attrs","serviceName","_e","_v","_s","appName","on","showWebEditorInfo","version","staticRenderFns","mixins","EventBusMixin","Package","methods","broadcast","serverUrl","skipLogin","mapLocation","mapZoom","geocoder","loginMessage","timeout","titleMaxLength","bodyMaxLength","showProgressBar","closeOnClick","pauseOnHover","supportedBatchJobSharingServices","supportedWebServiceSharingServices","supportedWizards","description","requirements","capabilities","apiType","replace","requiredProcesses","basemaps","attributions","maxZoom","importCommunityExamples","allowIgnoreLogin","processNamespaces","oidcClientIds","showHttpWarning","dataRefreshInterval","showExperimentalByDefault","showDeprecatedByDefault","pageLimit","CSV","delim","array","parseCSV","trim","row","col","isNaN","parseFloat","str","quote","c","cc","nc","ProjManager","Projection","_load","add","meta","proj4","defs","register","projection","getProjection","transformExtent","setExtent","basemap","addFromStac","properties","crs","isInteger","epsg","Process","isMathProcess","p","operatorMapping","operatorProcesses","values","returns","allowedTypes","ProcessSchema","nativeDataType","parameters","optional","arrayOf","datatype","ProcessDataType","items","subtype","dataType","eventBusListeners","beforeDestroy","eventName","$off","hasListener","listen","callback","unlisten","$on","arguments","JSON_","isGeoJson","JSON","parse","log","detectGeoJson","isTable","size","keys","some","equals","GDAL_MIN","GDAL_MAX","GDAL_NAME","GeoTIFF","removableLayers","_bands","_nodata","img","convertToRGB","parseMetadata","tiff","stacHasExtent","geometry","bands","forEach","band","setBandInfo","statistics","min","minimum","maximum","getBlob","tiffFromBlob","tiffFromUrl","getImage","getSamplesPerPixel","dummy","getArrayForSample","isFinite","getMinForDataType","getMaxForDataType","getGDALMetadata","getGDALNoData","geoKeys","ProjectedCSTypeGeoKey","GeographicTypeGeoKey","ProjLinearUnitsGeoKey","GeogAngularUnitsGeoKey","units","unitsFromCode","getBoundingBox","toUserExtent","fileDirectory","ColorMap","greenOffset","blueOffset","colorMap","trunc","PhotometricInterpretation","CMYK","YCbCr","CIELab","getNoData","getBands","getExtent","getColorMap","Int8Array","Int16Array","Int32Array","Float32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","L","e","module","exports","mathProcesses","getMathProcesses","all","filter","isMath","ProcessGraph","process_graph","mathProcessIds","Formula","arrayOperatorMapping","unsupportedFuncs","node","process_id","BrowserImage","Image","crossOrigin","fetchPriotity","decoding","src","NativeType","TSV","FormatRegistry","createFilesFromSTAC","resource","assets","roles","createFileFromAsset","file","createFilesFromBlob","Blob","createObjectURL","extension","pop","serverStorage","getDefaultState","appMode","storedServers","localStorage","getItem","discoverySearchTerm","hightestModalZIndex","epsgCodes","initialProcess","initialNode","openWizard","openWizardProps","collectionPreview","viewerOptions","modelDnD","formatRegistry","namespaced","state","getters","hasProcess","getModelNodeFromDnD","rootState","rootGetters","getterFn","collectionDefaults","loading","setInterval","clearInterval","actions","loadEpsgCodes","cx","res","commit","default","loadInitialProcess","isUrl","pg","dispatch","root","loadForAppMode","resultType","resultUrl","mutations","setModelDnD","setDiscoverySearchTerm","searchTerm","setInitialProcess","setInitialNode","setAppMode","expires","setAppModeData","StacMigrate","Vue","summaries","setViewerOptions","setOpenWizard","setCollectionPreview","collectionID","openModal","closeModal","addServer","setItem","stringify","removeServer","splice","toJSON","setProcess","reset","listFn","paginateFn","createFn","updateFn","deleteFn","readFn","readFnById","customizations","primaryKey","pages","hasMore","missing","definition","supportsList","supports","supportsCreate","supportsUpdate","supportsDelete","supportsRead","getById","x","create","apply","delete","update","updated","read","list","count","nextPage","d","hasNextPage","upsert","index","findIndex","observableData","observable","storeFactory","supportsQueue","supportsCancel","queue","startJob","cancel","stopJob","userProcesses","sort","use","Vuex","reverseOperatorMapping","mapping","op","activeRequests","discoveryCompleted","isAuthenticated","userInfo","connectionError","beforeLogoutListener","authProviders","fileFormats","serviceTypes","udfRuntimes","processesUpdated","collections","federationMissing","processes","modules","editor","jobs","services","feature","hasFeature","isOgcApi","currency","federation","listFederation","reduce","val","isConnected","isDiscovered","supportsBilling","supportsBillingPlans","listPlans","apiVersion","FileTypes","input","output","collection","spatial_extent","spatial","temporal_extent","temporal","interval","registry","ProcessRegistry","ProcessRegistryExtension","supportsMath","processId","connect","addNamespaceToProcess","providers","listAuthProviders","async","provider","discover","refresh","promises","errors","listCollections","then","catch","listProcesses","listFileTypes","listServiceTypes","listUdfRuntimes","lc","require","hide","describeAccount","describeCollection","_loaded","loadProcess","_get","Migrate","describeProcess","beforeLogout","listener","logout","disconnect","off","authProvider","getAuthProvider","completed","updateProcesses","addProcessNamespacesToRequest","namespaces","fillCollection","setConnectionError","authenticated","keepConnection","startActiveRequest","endActiveRequest","class","connecting","_l","modals","modal","_g","_b","tag","$event","hideModal","tourType","model","$$v","directives","rawName","showHelp","httpsUrl","domProps","initProviders","showConnectForm","preventDefault","submitForm","modifiers","autoConnect","$forceUpdate","allowOtherServers","showServerSelector","showLoginForm","ref","providerSelected","scopedSlots","_u","fn","tab","initDiscovery","hasPredefinedOidcClientId","userOidcClientId","composing","oidcRedirectUrl","basicProvider","username","password","proxy","switchServer","show","terms","privacy","computed","getLinkForRel","components","Logo","Tabs","Tab","TermsOfServiceConsent","Boolean","isLocalUrl","protocol","getType","defaultClient","oidcClientId","oidcProviders","watch","newVal","w","h","t","screen","availWidth","availHeight","oidcOptions","automaticSilentRenew","popupWindowFeatures","OidcProvider","redirectUrl","created","serverFromQuery","prompt","uiMethod","signinCallback","mounted","onpopstate","evt","historyNavigate","history","replaceState","hostname","initConnection","pushState","makeUrl","$refs","tabs","addProviders","addTab","getTitle","getId","$nextTick","resetActiveTab","programmatically","authType","login","offlineScope","setClientId","client","detectDefaultClient","grant_types","addListener","error_description","discoveryErrors","server","ConnectForm","IDE","AddMapDataModal","CollectionModal","DataModal","DownloadAssetsModal","ErrorModal","ExportCodeModal","ExpressionModal","FileFormatModal","ImportProcessModal","JobEstimateModal","JobInfoModal","ListModal","ParameterModal","ProcessModal","ProcessParameterModal","ServerInfoModal","ServiceInfoModal","ShareModal","Tour","UdfRuntimeModal","WebEditorModal","WizardModal","interceptors","request","showError","showData","showModal","showListModal","showCollection","showProcess","showProcessParameter","setTitle","where","stopTour","newTitle","subtitle","Date","now","other","listActions","parameter","Snotify","Clipboard","prototype","lastMessage","setTimeout","productionTip","errorHandler","err","filters","app","store","Page","$mount","addEventListener","reason","stopPropagation","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call","m","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","r","n","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","mode","ns","def","current","getOwnPropertyNames","o","defineProperty","enumerable","f","chunkId","u","miniCssF","g","globalThis","Function","prop","hasOwnProperty","inProgress","dataWebpackPrefix","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","onScriptComplete","prev","clearTimeout","doneFns","parentNode","bind","head","Symbol","toStringTag","nmd","paths","children","createStylesheet","fullhref","oldTag","linkTag","nonce","onLinkComplete","errorType","realHref","insertBefore","nextSibling","findStylesheet","existingLinkTags","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","test","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}